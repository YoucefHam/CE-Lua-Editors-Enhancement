--[====[
	Author:  YoucefHam
	Email:   youcefham20@gmail.com
	Discord: YoucefHam
	GitHub:  https://github.com/YoucefHam

	Lua Editors Enhancement:

	- Add button "LUA ENGINE" to ce main form.(next to memory view button).
	- Add shortcut "CTRL+L" to open lua engine from ce main form.
	- Add checkbox "CLEAR" to lua engine, to clear output before execute.(on top of execute button)
	- Add popup item "CLEAR OUTPUT" to lua engine, to clear output.
	- Add inside "LUA ENGINE" and "LUA EDITOR" and "AUTOASSEMBLE EDITOR":
		Use "CTRL + MOUSE WHEEL" to zoom font size and save it to restore later.
		Use "AUTO CLOSE BRACKETS" with selected code "str" 'txt' (code) [] {}. See "AutoClose.List"
		Use "CTRL + Q" to comment code in line.  --code
		Use "CTRL + W" to comment code in block. --[=[code]=]
		Use "CTRL + SHIFT + Q" to uncomment (selected) code in line --code.
		Use "CTRL + SHIFT + W" to uncomment (selected) code in block --[=[code]=].
		Use "TAB ONLY IN INDENT" for tab only in indents. (space at the start of the line)
		Use "KEEP SPACES AT EOL" to stop editor from removing spaces in the end of the line.
		Add popup item "BROWSE THIS MEMORY REGION" to editor popup. (for selected text)
		Add popup item "DISASSEMBLE THIS MEMORY REGION" to editor popup. (for selected text)
		Add allow to drag and drop selected text.
		Use "AUTO BACKUP SCRIPT" to save editor code to file:
			"OnOPEN" : backup after editor opened.
			"OnCLOSE" : backup before editor closed.
			"OnEXECUTE" : backup before editor execute code.
			"OnTIME" : backup opened editors code every x amount of time.
		Add menu item "SELECTION MODE": (some of them works without this extension)
			"HOLD ALT + SELECT" : select text in column mode.
			"HOLD CTRL + SHIFT + CLICK" : type in multiple places.
			"CTRL + SHIFT + N" : toggle normal selection mode.
			"CTRL + SHIFT + C" : toggle column selection mode.
			"CTRL + SHIFT + L" : toggle line selection mode.
	*


	MIT License

		Copyright (c) 2023 YoucefHam

		Permission is hereby granted, free of charge, to any person obtaining a copy
		of this software and associated documentation files (the "Software"), to deal
		in the Software without restriction, including without limitation the rights
		to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		copies of the Software, and to permit persons to whom the Software is
		furnished to do so, subject to the following conditions:

		The above copyright notice and this permission notice shall be included in all
		copies or substantial portions of the Software.

		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
		AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
		SOFTWARE.
]====] --
local Disable_Extension = false
if Disable_Extension then
	return
end

local ExtensionName = 'Lua Editors Enhancement'

-- ! Main
local this = {}

-- ! #######################
-- ? ENABLE/DISABLE FEATURES
-- ! #######################
this.Features = {
	-- ? ADD LUA ENGINE BUTTON TO CE MAIN FORM
	AddLuaEngineButton = {
		Name = 'AddLuaEngineButton',
		Enabled = true,
		Title = 'Lua Engine'
	},
	-- ? ADD LUA ENGINE SHORTCUT "CTRL + L" TO CE MAIN FORM
	AddLuaEngineShortcut = {
		Name = 'AddLuaEngineShortcut',
		Enabled = true
	},
	-- ? Add checkbox "CLEAR" to lua engine, to clear output before execute.(on top of execute button)
	AddLuaEngine_CLEAR_Checkbox = {
		Name = 'AddLuaEngine_CLEAR_Checkbox',
		Enabled = true,
		Title = 'CLEAR'
	},
	-- ? Add popup item "CLEAR OUTPUT" to lua engine, to clear output
	AddLuaEngine_CLEAR_Popup = {
		Name = 'AddLuaEngine_CLEAR_Popup',
		Enabled = true,
		Title = 'Clear Output'
	},
	-- ? Add popup item "BROWSE THIS MEMORY REGION" & "DISASSEMBLE THIS MEMORY REGION" to editor popup
	AddMemoryPopup = {
		Name = 'AddMemoryPopup',
		Enabled = true
	},
	-- ? AUTO CLOSE BRACKETS WITH SELECTED CODE "" '' () [] {}.
	AutoClose = {
		Name = 'AutoClose',
		Enabled = true,
		Title = 'Auto Close &Brackets'
	},
	-- ? COMMENT / UNCOMMENT CTRL + (SHIFT) + Q
	Comments = {
		Name = 'Comments',
		Enabled = true,
		Title = '&Ctrl + (Shift) + Q/W to Comments/(Uncomments)'
	},
	-- ? MAKE INDENTS USE TABS ONLY
	TabIndent = {
		Name = 'TabIndent',
		Enabled = true,
		Title = '&Tab only in Indent'
	},
	-- ? CTRL + MOUSE WHEEL : ZOOM FONT SIZE AND SAVE IT TO RESTORE LATER
	Zoom = {
		Name = 'Zoom',
		Enabled = true,
		Title = '&Zoom With Mouse Wheel'
	},
	-- ? KEEP SPACES AT END OF THE LINES
	KeepSpace = {
		Name = 'KeepSpace',
		Enabled = true,
		Title = '&Keep Spaces at EOL'
	},
	-- ? AUTO BACKUP OPENED SCRIPT
	AutoBackup = {
		Name = 'AutoBackup',
		Enabled = true,
		Title = '&Auto Backups Settings'
	}
}

-- ! #################################
-- ? Save/Restore Enhancement Settings
-- ! #################################
this.Settings = getSettings( ExtensionName )
-- ! SAVE ENHANCEMENT SETTINGS
this.setSettings = function( Name, value )
	if value == true then
		this.Settings.Value[Name] = tostring( true )
	elseif value == false then
		this.Settings.Value[Name] = tostring( false )
	elseif value ~= '' and value ~= nil then
		this.Settings.Value[Name] = tostring( value )
	end
	return value
end
-- ! GET SAVED ENHANCEMENT SETTINGS
this.getSettings = function( Name, value )
	if this.Settings.Value[Name]:match( '(false)' ) ~= nil then
		return false
	elseif this.Settings.Value[Name]:match( '(true)' ) ~= nil then
		return true
	elseif this.Settings.Value[Name] ~= '' then
		return this.Settings.Value[Name]
	else
		return this.setSettings( Name, value )
	end
end
-- ! PREP SETTINGS FOR FIRST TIME RUN
for _Feature, _ in pairs( this.Features ) do
	if this.Features[_Feature].Name:match( '^Add' ) then
		this.setSettings( this.Features[_Feature].Name, this.Features[_Feature].Enabled )
	else
		if this.Features[_Feature].Enabled == true then
			this.setSettings( this.Features[_Feature].Name, this.getSettings( this.Features[_Feature].Name, this.Features[_Feature].Enabled ) )
			this.Features[_Feature].Enabled = this.getSettings( this.Features[_Feature].Name )
		elseif this.Features[_Feature].Enabled == false then
			this.setSettings( this.Features[_Feature].Name, false )
		end
	end
end

-- ! ###############
-- ? SEARCH FOR FORM
-- ! ###############
this.LuaEngineName = 'frmLuaEngine'
this.AutoInjectName = 'frmAutoInject'
this.MemoryViewName = 'MemoryBrowser'
this.findForm = function( FormName )
	local Form = nil
	for i = 0, getFormCount() - 1 do
		if not (getForm( i ).Name:match( FormName ) == nil) and getForm( i ).Menu and not getForm( i ).Menu.Items.miEnhancement then
			Form = getForm( i )
			break
		end
	end
	return Form
end

-- ! ##########################
-- ? RUN A FUNCTION AFTER DELAY
-- ! ##########################
this.runTimer = function( func, delay )
	local timer = createTimer( nil, false );
	timer.Interval = delay or 1
	timer.OnTimer = function()
		timer.destroy()
		timer = nil
		local s, e = pcall( func )
		if s == false then
			print( (ExtensionName .. ':\n\t%s'):format( e ) )
			return
		end
	end

	timer.Enabled = true
end

-- ! #################################
-- ? RUN A FUNCTION AFTER FINDIND FORM
-- ! #################################
this.runWaitFor = function( func, Name )
	local timer = createTimer( nil, false );
	local sTime = os.clock()
	timer.Interval = 50
	timer.OnTimer = function()
		if this.findForm( Name ) ~= nil then
			timer.destroy()
			timer = nil
			local s, e = pcall( func )
			if s == false then
				print( (ExtensionName .. ':\n\t%s'):format( e ) )
				return
			end
		end
		if (os.clock() - sTime) > 10 then
			timer.destroy()
			timer = nil
			return
		end
	end
	timer.Enabled = true
end

-- ! #####################
-- ? FUNCTION TO ADD MENUS
-- ! #####################
this.addMenuItem = function( MenuItem, Caption, Name, onClick, RadioItem, Checked, Image )
	if not MenuItem then
		return error( 'MAIN MENU EMPTY !!!' )
	end
	local newMenuItem = createMenuItem( MenuItem )
	newMenuItem.Caption = Caption or 'Menu'
	newMenuItem.Name = Name or ''
	newMenuItem.OnClick = onClick or nil
	newMenuItem.Checked = Checked or false
	newMenuItem.RadioItem = RadioItem or false
	newMenuItem.ImageIndex = Image or -1
	MenuItem.add( newMenuItem )
	return newMenuItem
end

-- ! ##########################
-- ? CREATE MENU ITEMS PICTURES
-- ! ##########################
this.Pictures = {
	data = {
		-- ! PICTURE FOR ENABLED
		ON = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 04 67 41 4D 41 00 00 B1 8F 0B FC 61 05 00 00 00 09 70 48 59 73 00 00 0E C2 00 00 0E C2 01 15 28 4A 80 00 00 00 19 74 45 58 74 53 6F 66 74 77 61 72 65 00 70 61 69 6E 74 2E 6E 65 74 20 34 2E 30 2E 31 30 AD 0A 0A C0 00 00 0A 30 49 44 41 54 78 5E ED DD 21 B4 1D D5 15 C6 F1 88 88 08 44 04 22 02 91 B7 56 44 45 44 04 22 02 81 88 40 54 44 46 54 20 2A 22 2A 22 2A 22 2A BA 56 45 04 02 19 51 11 51 81 40 20 10 11 88 0A 04 A2 02 81 A8 A8 40 54 44 54 20 10 08 C4 63 9F 97 EC D7 7D FF E7 BB F7 CE CC 9E 99 3B 73 E7 70 D6 8F 90 4D DE 77 E6 ED 7D C8 CD CB 9D 0C 37 2E 2F 2F 9B 0D 93 C5 66 3B 64 B1 D9 0E 59 6C B6 43 16 9B ED 90 C5 66 3B 64 B1 D9 0E 59 74 F6 57 F9 5B B3 72 9C 6B 24 8B 8E 41 CD 3A 71 AE 91 2C 3A 06 35 EB C4 B9 46 B2 E8 18 D4 AC 13 E7 1A C9 A2 63 50 B3 4E 9C 6B 24 8B 8E 41 CD 3A 71 AE 91 2C 3A 06 35 EB C4 B9 46 B2 E8 18 D4 AC 13 E7 1A C9 A2 63 50 33 91 BB E6 6B F3 5E A8 8D 88 73 8D 64 D1 31 A8 99 C0 4D F3 AD 29 AB 7C 3B C1 21 E0 5C 23 59 74 0C 6A 26 F0 C2 C4 35 C1 21 E0 5C 23 59 74 0C 6A 46 F6 C8 A8 35 F2 21 E0 5C 23 59 74 0C 6A 46 74 C7 BC 31 FB D6 88 87 80 73 8D 64 D1 31 A8 19 D1 6B 73 6C 8D 74 08 38 D7 48 16 1D 83 9A 91 3C 37 5D D7 08 87 80 73 8D 64 D1 31 A8 19 C1 43 F3 AB E9 B3 92 87 80 73 8D 64 D1 31 A8 49 BA 6D 7E 34 43 56 E2 10 70 AE 91 2C 3A 06 35 49 5F 9A CC 1A 78 08 38 D7 48 16 1D 83 9A 84 A7 66 8C 35 E0 10 70 AE 91 2C 3A 06 35 03 3D 30 BF 98 B1 56 CF 43 C0 B9 46 B2 E8 18 94 C5 FC 2D B8 71 79 61 A3 BA F8 C1 58 A1 AB 0E AB C7 21 E0 35 45 B2 E8 18 94 C5 FC 2D B0 81 FE BD 1E F0 31 1D 57 C7 43 C0 6B 8A 64 D1 31 28 8B F9 E7 CE 86 F9 A4 1E 6E 17 3D D6 3F 0D FA 4C BC AE 48 16 1D 83 B2 98 7F CE 6C 90 F7 CC CF BB 83 ED AA C7 7A 66 D0 67 E2 B5 45 B2 E8 18 94 C5 FC 73 65 43 BC 69 FE B5 3B D4 3E 3A AE F2 DB C9 E8 B1 C2 EB 8B 64 D1 31 28 8B F9 E7 CA 86 F8 79 3D D4 3E 3A AC FF 9A F7 0D 7A AC F0 FA 22 59 74 0C CA 62 FE 39 B2 01 FE BE 1E 68 5F 47 56 F9 AD E4 F2 56 32 FA BB 0F AF 31 92 45 C7 A0 2C E6 9F 1B 1B DE 07 E6 7F BB C3 1C E2 C8 FA AB 41 6F 0F E1 75 46 B2 E8 18 94 C5 FC 73 62 83 2B AF FB F6 6B 72 35 D0 BE 0E AC F2 A5 5F B9 8D 0C BD 3D 84 D7 1A C9 A2 63 50 16 F3 CF 89 0D CE FE BB 54 C3 1C 62 CF B2 9F 5B 6E D8 CF 31 AA B7 87 F0 5A 23 59 74 0C CA 62 FE B9 B0 A1 7D 6C EC 95 59 0D 73 88 3D CB 7E 75 A1 FA 7A 0C AF 37 92 45 C7 A0 2C E6 9F 03 1B 98 FD 5A FC C2 7E 4D AE 06 39 94 58 F6 75 85 EA 69 17 BC E6 48 16 1D 83 B2 98 7F 0E 6C 60 5F D7 03 CC C2 FA DE F4 7C DD 8F 78 CD 91 2C 3A 06 65 31 7F ED 6C 58 CF EA E1 8D 21 AC 9F CD 3D 83 5E F6 C1 EB 8E 64 D1 31 28 8B F9 6B 66 83 FA D0 8C F8 BA 1F 85 F5 C4 A0 8F 7D F1 DA 23 59 74 0C CA 62 FE 5A D9 90 CA 5B BC FF D9 1D DA 98 DE AD 57 6F FB 96 C5 EB 8F 64 D1 31 28 8B F9 6B 65 43 FA A2 1E DA 98 6C FD 60 7A DC F4 71 08 AF 3F 92 45 C7 A0 2C E6 AF 91 0D E8 D3 7A 60 23 2B 77 0F 95 BB 88 D0 BF A1 F8 39 44 B2 E8 18 94 C5 FC B5 B1 E1 DC 37 03 DF E2 ED A1 DC 3F 88 DE 65 F0 F3 88 64 D1 31 28 8B F9 6B 62 83 B9 65 EC 0B 32 31 B0 71 7D A5 7A 97 C1 CF 25 92 45 C7 A0 2C E6 AF 89 0D E6 25 06 35 85 1F CD 6D D5 BB 0C 7E 2E 91 2C 3A 06 65 31 7F 2D 6C 28 8F C3 90 A6 52 BE A4 7C 78 B5 1F FA 96 15 3F 17 92 45 C7 A0 2C E6 AF 81 0D E5 AE F9 E9 DD 90 A6 F4 FC 7A 4F F4 2D CB 73 15 59 74 0C CA 62 FE D2 D9 50 CA 5B BC DF 85 21 4D E5 F5 CE BE E8 5B 56 CC 26 59 74 0C CA 62 FE D2 D9 60 5E 60 50 53 78 63 EE EC EC 8B BE 65 C5 6C 92 45 C7 A0 2C E6 2F 99 0D E5 51 18 D2 94 1E 55 7B A3 6F 59 CC 8F 64 D1 31 28 8B F9 4B 65 43 B9 63 CA 7F 99 56 98 D4 0B B9 3F FA 96 C5 FC 48 16 1D 83 B2 98 BF 54 36 98 6F 30 A8 29 7C 6B 6E CA FD D1 B7 2C E6 47 B2 E8 18 94 C5 FC 25 B2 A1 3C 0F 43 9A 4A F9 AA E2 AE DA BF 60 DF B2 98 1F C9 A2 63 50 16 F3 97 C6 86 F2 D0 4C F4 16 EF 8E C7 6A 7F C7 BE 65 31 3F 92 45 C7 A0 2C E6 2F 89 0D E5 B6 29 BF 13 67 85 49 BD 54 FB 47 EC 5B 16 F3 23 59 74 0C CA 62 FE 92 D8 60 BE C2 A0 A6 50 DE 4B B8 A5 F6 8F D8 B7 2C E6 47 B2 E8 18 94 C5 FC A5 B0 A1 3C 0D 43 9A 4A 79 17 F1 77 6A 7F 62 DF B2 98 1F C9 A2 63 50 16 F3 97 C0 86 F2 C0 FC F2 6E 48 53 FA 54 ED AF B0 6F 59 CC 8F 64 D1 31 28 EB 3A F7 ED FB EA F2 4B A0 39 D9 35 0C 78 7A C7 20 FF 50 FB EF C3 BE 65 31 3F 92 45 C7 A0 AC AB CC CB 8B 8F 4C F9 E9 F0 4B 73 D2 43 60 FB BF 32 F6 9D 49 95 7B 07 DF 53 FB EF C3 BE 65 31 3F 92 45 C7 A0 B4 FF 0F BF FC 73 71 B2 43 60 FB 0E 7C 7A 47 2F E5 4B CA 07 6A FF 43 AA BE 25 31 3F 92 45 C7 A0 14 1B BD 35 43 DD 4E 35 FB 21 B0 FD 12 4F EF E8 E5 99 DA FF 98 AA 77 49 CC 8F 64 D1 31 68 B0 32 7C 6B B7 68 90 9B ED 10 94 7D CC 2C B7 76 A9 FD BB A8 FA 97 C4 FC 48 16 1D 83 06 B9 1E 7E 59 B2 51 6E 96 43 60 7B 24 9F DE D1 49 F9 B3 82 EF AB FD BB A8 7A 98 C4 FC 48 16 1D 83 7A DB 19 7E 59 B2 59 D1 A4 87 C0 B2 47 78 7A C7 51 E5 75 FF 23 B5 7F 57 55 1F 93 98 1F C9 A2 63 50 2F D5 F0 CB 92 0D A3 49 0E 81 65 8E F4 F4 8E A3 FE A2 F6 EF A3 EA 65 12 F3 23 59 74 0C EA 4C 0E BF 2C D9 30 65 D4 43 50 B2 4C 79 FB D5 0A 93 2A 6F 23 A7 AF BB EA 67 12 F3 23 59 74 0C EA 64 EF F0 CB 92 4D DB 67 B4 43 60 39 23 3E BD 63 AF F2 B3 CB 07 6A FF BE AA 9E 26 31 3F 92 45 C7 A0 A3 0E 0E BF 2C D9 B8 43 D2 87 C0 3E 7E E4 A7 77 EC F5 89 DA 7F 88 AA AF 49 CC 8F 64 D1 31 E8 A0 A3 C3 2F 4B 36 EE 98 C1 87 C0 3E 6E 82 A7 77 48 9F A9 FD 87 AA 7A 9B C4 FC 48 16 1D 83 F6 EA 34 FC B2 64 F3 BA 18 74 08 EC 63 5E 87 8C A9 94 27 82 8E F2 52 E5 AA FE 26 31 3F 92 45 C7 20 A9 F3 F0 CB 92 0D EC AA D7 21 B0 1F 3B D1 D3 3B 76 D8 67 BE FF D6 AE A1 AA 1E 27 31 3F 92 45 C7 A0 4A AF E1 97 25 9B D8 47 A7 43 60 3F 66 C2 A7 77 EC 78 A2 F6 CF AA FA 9C C4 FC 48 16 1D 83 2A 5D FE DF 77 3B 4B 36 B1 AF 83 87 C0 FE DD C4 4F EF B8 76 F4 D6 AE A1 AA 3E 27 31 3F 92 45 C7 A0 4A 79 82 45 79 72 65 E7 25 1B 39 C4 DE 43 60 F5 89 9F DE 71 A5 DC 43 D0 EB 2D DE 3E AA 3E 27 31 3F 92 45 C7 20 A9 D7 21 90 CD 1C AA 3A 04 F6 FD 3F 86 7F 3F 95 F2 BA 7F 3F EE 3B B6 AA C7 49 CC 8F 64 D1 31 68 AF CE 87 40 36 34 E3 FA 10 D8 B7 F3 3C BD E3 F2 E2 29 FB 34 B6 AA BF 49 CC 8F 64 D1 31 E8 A0 4E 87 40 36 34 AB 1C 82 F2 BA 3F C7 5B BC 5F A8 3E 8D AD EA 6D 12 F3 23 59 74 0C 3A EA E8 21 90 4D 1D C3 1C 7F 8E EF EA E9 1D AA 4F 63 AB FA 9A C4 FC 48 16 1D 83 3A 39 78 08 64 63 D7 A0 7C 49 F9 A1 EA D1 14 AA 9E 26 31 3F 92 45 C7 A0 CE F6 1E 02 D9 DC 35 F8 B3 EA CF 54 AA 7E 26 31 3F 92 45 C7 A0 5E E4 21 90 CD 5D BA 9D A7 77 CC A1 EA 65 12 F3 23 59 74 0C EA AD 3A 04 B2 C1 4B 96 BA B5 6B A8 AA 8F 49 CC 8F 64 D1 31 68 90 9D 43 20 9B BC 54 E5 75 BF 7A 7A C7 1C AA 1E 26 31 3F 92 45 C7 A0 C1 AE 0F 81 6C F4 52 FD 4D F5 64 0E 55 FF 92 98 1F C9 A2 63 50 4A 39 04 F3 DC 96 35 86 72 9D 47 DF 74 9A 4A D5 BB 24 E6 47 B2 E8 18 94 F6 F6 37 6C 96 7E 08 46 BB B5 6B A8 AA 6F 49 CC 8F 64 D1 31 28 EB 2A 73 F9 87 E0 E0 D3 3B E6 C0 BE 65 31 3F 92 45 C7 A0 AC EB DC E5 1E 82 CF FD 1A 4F 89 7D CB 62 7E 24 8B 8E 41 59 3B D9 CB 3B 04 E5 BD 84 93 BD EE 47 EC 5B 16 F3 23 59 74 0C CA AA F2 97 73 08 CA BB 88 F7 78 7D A7 C2 BE 65 31 3F 92 45 C7 A0 2C E6 17 D6 F8 25 1C 82 3F A8 6B 3B 15 F6 2D 8B F9 91 2C 3A 06 65 31 DF D9 00 4E 79 08 5E A9 6B 3A 25 F6 2D 8B F9 91 2C 3A 06 65 31 3F B2 41 9C E2 10 FC DB 4C 76 6B D7 50 EC 5B 16 F3 23 59 74 0C CA 62 3E 95 61 98 B9 0E 41 79 30 54 EF A7 77 CC 81 7D CB 62 7E 24 8B 8E 41 59 CC 57 6C 28 73 1D 82 3F A9 FD 97 80 7D CB 62 7E 24 8B 8E 41 59 CC DF C7 86 33 F5 21 18 FC F4 8E 39 B0 6F 59 CC 8F 64 D1 31 28 8B F9 87 D8 90 A6 3A 04 B3 DD DA 35 14 FB 96 C5 FC 48 16 1D 83 66 67 47 40 DF 59 34 70 FD 6A CA 9F 66 52 7B 9D 31 CE 35 92 45 C7 A0 93 18 F3 10 3C 37 6A 8F 33 C7 B9 46 B2 E8 18 74 32 63 1C 82 6F 8C CA DE 00 CE 35 92 45 C7 A0 93 CA 1C 82 37 E6 8E 51 B9 1B C0 B9 46 B2 E8 18 74 72 43 0F C1 27 46 E5 6D 04 E7 1A C9 A2 63 D0 22 F4 3D 04 2F 8C CA D9 10 CE 35 92 45 C7 A0 C5 E8 7A 08 BE 33 37 8D CA D8 10 CE 35 92 45 C7 A0 45 39 76 08 7E 32 77 8D FA D8 8D E1 5C 23 59 74 0C 5A 9C 43 87 E0 B1 51 1F B3 41 9C 6B 24 8B 8E 41 8B A4 0E C1 4B A3 7E EC 46 71 AE 91 2C 3A 06 2D 56 3C 04 DF 9B 5B 46 FD B8 8D E2 5C 23 59 74 0C 5A B4 72 08 CA 33 8B EE 87 5A 73 85 73 8D 64 D1 31 A8 59 27 CE 35 92 45 C7 A0 66 9D 38 D7 48 16 1D 83 9A 75 E2 5C 23 59 74 0C 6A D6 89 73 8D 64 D1 31 A8 59 27 CE 35 92 45 C7 A0 66 9D 38 D7 48 16 1D 83 9A 75 E2 5C 23 59 74 0C 6A D6 89 73 8D 64 B1 D9 0E 59 6C B6 43 16 9B ED 90 C5 66 3B 64 B1 D9 0E 59 6C B6 43 16 9B AD B8 BC F1 1B 38 CD 5B 8E 73 90 AB F1 00 00 00 00 49 45 4E 44 AE 42 60 82',
		-- ! PICTURE FOR DISABLED
		OFF = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 04 67 41 4D 41 00 00 B1 8F 0B FC 61 05 00 00 00 09 70 48 59 73 00 00 0E C1 00 00 0E C1 01 B8 91 6B ED 00 00 00 19 74 45 58 74 53 6F 66 74 77 61 72 65 00 70 61 69 6E 74 2E 6E 65 74 20 34 2E 30 2E 31 30 AD 0A 0A C0 00 00 07 BD 49 44 41 54 78 5E ED DC 41 6E DD 46 10 45 51 0F 32 F4 20 C3 2C C6 7B CD 02 BC 00 2F C0 0B CA C0 83 0C 15 B6 9C 16 A8 DB F7 F3 93 45 F2 B3 9B DD 01 8E 2D 95 81 27 B2 5E 21 B0 A1 C4 5F DE DE DE 86 8E E9 70 E8 87 0E 87 7E E8 70 E8 87 0E 87 7E E8 70 E8 87 0E 87 7E E8 70 E8 87 0E 87 7E E8 90 A6 7F D2 0F 43 63 D8 A3 D1 21 31 78 68 03 7B 34 3A 24 06 0F 6D 60 8F 46 87 C4 E0 A1 0D EC D1 E8 90 18 3C B4 81 3D 1A 1D 12 83 87 36 B0 47 A3 43 62 F0 D0 06 F6 68 74 48 0C DE EB DB E4 C7 E4 EB 6C D6 A3 F4 FE 69 0F 69 1F F6 EB 7B B1 47 A3 43 62 F0 1E E9 65 7F 4D A6 4F DE 7E 4E 7A 3D 82 F4 DE E9 FD A7 4F DE F7 71 C6 11 B0 47 A3 43 62 70 D4 BC FC AC C7 23 98 97 9F 9D 71 04 EC D1 E8 90 18 1C 61 E5 67 3D 1D 81 95 9F 1D 7D 04 EC D1 E8 90 18 BC D5 52 F9 59 0F 47 B0 54 7E 76 E4 11 B0 47 A3 43 62 F0 16 6B CA CF EE 7C 04 6B CA CF 8E 3A 02 F6 68 74 48 0C 5E 6B 4B F9 D9 1D 8F 60 4B F9 D9 11 47 C0 1E 8D 0E 89 C1 6B 44 CA CF EE 74 04 91 F2 B3 BD 47 C0 1E 8D 0E 89 C1 CF EC 29 3F BB C3 11 EC 29 3F DB 73 04 EC D1 E8 90 18 BC E4 88 F2 B3 96 8F E0 88 F2 B3 E8 11 B0 47 A3 43 62 F0 23 47 96 9F B5 78 04 47 96 9F 45 8E 80 3D 1A 1D 12 83 CD 19 E5 CF FC 9C 7C B5 67 AB 4E 7A CE DF CF 3B 7D 76 AC AD 47 50 3C 9B D0 21 31 98 4E 2E 3F AB FF 08 4E 2C 3F DB 72 04 C5 F3 09 1D 12 83 E7 5E 54 7E 56 EF 11 BC A0 FC 6C ED 11 14 CF 28 74 48 0C 9E 4B DF CD 9A 3E 78 A5 FA 8E E0 85 E5 67 69 EF D6 C7 5C F1 9C 42 87 C4 E0 B9 33 7E C3 B3 42 3D 47 70 41 F9 6B 7F 63 5C 3C AB D0 21 31 98 BA 3D 82 8A CB 4F 8A E7 15 3A 24 06 9B EE 8E A0 F2 F2 93 E2 99 85 0E 89 C1 8F 74 73 04 0D 94 9F 14 CF 2D 74 48 0C 5E 72 FB 23 68 A4 FC A4 78 76 A1 43 62 F0 33 B7 3D 82 86 CA 4F 8A E7 17 3A 24 06 AF 71 BB 23 68 AC FC A4 78 07 A1 43 62 F0 5A B7 39 82 06 CB 4F 8A F7 10 3A 24 06 6F D1 FC 11 34 5A 7E 52 BC 8B D0 21 31 78 AB 66 8F E0 82 F2 27 3F 8F 28 3F 29 DE 47 E8 90 18 1C 91 5E 6A FA E0 E5 CB 9C C4 8E E0 A2 F2 27 D3 AA CA FD 45 14 EF 24 74 48 0C 8E 9A 7E B8 6C A9 F6 5E 0F 5D FC 9C DC 5B D4 A7 77 7A 40 87 C4 E0 A8 F7 BC DA 8F A0 82 E7 E3 DE A2 3E DE 69 81 0E 89 C1 51 1F 99 B5 1E 41 25 CF C5 BD 45 CD 33 1F D1 21 31 38 EA 53 6E 6D 47 50 D1 F3 70 6F 51 CC 35 3A 24 06 47 31 77 1A D6 B1 F4 8A CA 4F B8 B7 28 E6 1A 1D 12 83 A3 98 FB EE EA E5 57 56 7E C2 BD 45 31 D7 E8 90 18 1C C5 DC 0F D7 95 F0 D7 FF 3F DB AF 9F 65 B1 FC 84 7B 8B 62 AE D1 21 31 38 8A B9 9F 5C 73 04 FF CA EC 4C 4F CB 4F B8 B7 28 E6 1A 1D 12 83 A3 98 5B B8 E6 08 5E 65 55 F9 09 F7 16 C5 5C A3 43 62 70 14 73 D5 3D 8F 60 75 F9 09 F7 16 C5 5C A3 43 62 70 14 73 1F BA D7 11 6C 2A 3F E1 DE A2 98 6B 74 48 0C 8E 62 EE A2 7B 1C C1 E6 F2 13 EE 2D 8A B9 46 87 C4 E0 28 E6 3E D5 F6 11 84 CA 4F B8 B7 28 E6 1A 1D 12 83 A3 98 BB 4A 9B 47 10 2E 3F E1 DE A2 98 6B 74 48 0C 8E 62 EE 6A 6D 1D C1 AE F2 13 EE 2D 8A B9 46 87 C4 E0 28 E6 6E D2 C6 11 EC 2E 3F E1 DE A2 98 6B 74 48 0C 8E 62 EE 66 75 1F C1 21 E5 27 DC 5B 14 73 8D 0E 89 C1 51 CC 0D A9 F3 08 0E 2B 3F E1 DE A2 98 6B 74 48 0C 8E 62 6E 58 5D 47 70 68 F9 09 F7 16 C5 5C A3 43 62 70 14 73 77 A9 E3 08 0E 2F 3F E1 DE A2 98 6B 74 48 0C 8E 62 EE 6E D7 1E C1 29 E5 27 DC 5B 14 73 8D 0E 89 C1 51 CC 3D C4 EF 6F E9 BE FA BB 7A FF 4C FE D4 E7 39 00 F7 16 C5 5C A3 43 62 70 14 73 77 BB F6 DF 00 DF 27 7F E8 73 ED C4 BD 45 31 D7 E8 90 18 1C C5 DC 5D EA F8 3D C0 29 47 C0 BD 45 31 D7 E8 90 18 1C C5 DC B0 3A CA CF 0E 3F 02 EE 2D 8A B9 46 87 C4 E0 28 E6 86 D4 55 7E 76 E8 11 70 6F 51 CC 35 3A 24 06 47 31 77 B3 3A CB CF 0E 3B 02 EE 2D 8A B9 46 87 C4 E0 28 E6 6E 52 77 F9 D9 21 47 C0 BD 45 31 D7 E8 90 18 1C C5 DC D5 DA 28 3F DB 7D 04 DC 5B 14 73 8D 0E 89 C1 51 CC 5D A5 AD F2 B3 5D 47 C0 BD 45 31 D7 E8 90 18 1C C5 DC A7 DA 2C 3F 0B 1F 01 F7 16 C5 5C A3 43 62 70 14 73 17 B5 5D 7E 16 3A 02 EE 2D 8A B9 46 87 C4 E0 28 E6 3E 74 8F F2 B3 CD 47 C0 BD 45 31 D7 E8 90 18 1C C5 5C 75 AF F2 B3 4D 47 C0 BD 45 31 D7 E8 90 18 1C C5 DC C2 3D CB CF 56 1F 01 F7 16 C5 5C A3 43 62 70 14 73 3F B9 A6 FC 57 7F 17 71 D5 11 70 6F 51 CC 35 3A 24 06 47 31 F7 C3 35 E5 A7 AF 77 C5 FF 1D FC F4 08 B8 B7 28 E6 1A 1D 12 83 A3 98 FB EE BA F2 7F FF C7 1C D7 7C FD C5 23 E0 DE A2 98 6B 74 48 0C 8E 62 EE 34 BC B6 FC AC B2 23 E0 DE A2 98 6B 74 48 0C 8E FA 94 5B 4B F9 59 45 47 C0 BD 45 31 D7 E8 90 18 1C F5 91 59 5B F9 59 25 47 C0 BD 45 CD 33 1F D1 21 31 38 EA 3D AF D6 F2 B3 0A 8E 80 7B 8B FA 78 A7 05 3A 24 06 47 4D 3F D4 5D 7E 76 F1 11 70 6F 51 9F DE E9 01 1D 12 83 23 C6 DF 15 BC CA FB 11 D8 FE 22 8A 77 12 3A 24 06 6F 35 FE B6 F0 4D BE 4F 17 30 FD B4 5F F1 3E 42 87 C4 E0 2D 9A 2D 3F BB E0 08 BE 4F 8E 38 82 E2 5D 84 0E 89 C1 6B 35 5F 7E D6 E8 11 14 EF 21 74 48 0C 5E E3 36 E5 67 0D 1E 41 F1 0E 42 87 C4 E0 67 6E 57 7E D6 D8 11 14 CF 2F 74 48 0C 5E 72 DB F2 B3 86 8E A0 78 76 A1 43 62 F0 23 B7 2F 3F 6B E4 08 8A E7 16 3A 24 06 9B 6E CA CF 1A 38 82 E2 99 85 0E 89 C1 D4 5D F9 59 E5 47 50 3C AF D0 21 31 78 AE DB F2 B3 8A 8F A0 78 56 A1 43 62 F0 DC 8F C9 F4 C1 2B D5 53 7E 76 C1 11 FC 3D B1 3E E6 8A E7 14 3A 24 06 CF 7D 9B FC 9A 4C 9F BC 42 7D E5 67 2F 3C 82 B4 EF B4 77 EB 63 AE 78 46 A1 43 62 30 BD E8 08 EA 2D 3F 7B C1 11 AC 2D 3F 29 9E 4F E8 90 18 6C 4E 3E 82 FA CB CF 4E 3C 82 2D E5 27 C5 B3 09 1D 12 83 1F 39 E9 08 DA 29 3F 3B E1 08 B6 96 9F 14 CF 25 74 48 0C 5E 72 E4 11 A4 3F 5D A4 3F 65 D8 D7 A9 DD 91 7F 3A 8A 94 9F B0 47 A3 43 62 F0 33 47 1C 41 CB E5 67 47 1C 41 B4 FC 84 3D 1A 1D 12 83 D7 D8 73 04 77 28 3F DB 73 04 7B CA 4F D8 A3 D1 21 31 78 AD C8 11 DC A9 FC 2C 72 04 7B CB 4F D8 A3 D1 21 31 78 8B 2D 47 70 C7 F2 B3 2D 47 70 44 F9 09 7B 34 3A 24 06 6F B5 E6 08 EE 5C 7E B6 E6 08 8E 2A 3F 61 8F 46 87 C4 E0 88 A5 23 E8 A1 FC 6C E9 08 8E 2C 3F 61 8F 46 87 C4 E0 28 3B 82 9E CA CF EC 08 8E 2E 3F 61 8F 46 87 C4 E0 3D E6 47 D0 63 F9 D9 FC 08 CE 28 3F 61 8F 46 87 C4 E0 BD D2 CB A6 EF 22 F6 5A 7E 96 DE 3F ED E1 8C F2 13 F6 68 74 48 0C 1E DA C0 1E 8D 0E 89 C1 43 1B D8 A3 D1 21 31 78 68 03 7B 34 3A 24 06 0F 6D 60 8F 46 87 C4 E0 A1 0D EC D1 E8 90 18 3C B4 81 3D 1A 1D 12 83 87 36 B0 47 A3 43 62 F0 D0 06 F6 68 74 38 F4 43 87 43 3F 74 38 F4 43 87 43 3F 74 38 F4 43 87 43 3F 74 38 F4 43 87 43 3F 74 38 F4 E2 ED CB 7F E5 57 E0 75 F5 2E 1F 09 00 00 00 00 49 45 4E 44 AE 42 60 82',
		-- ! PICTURE FOR SETTINGS
		SETTING = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 04 67 41 4D 41 00 00 B1 8F 0B FC 61 05 00 00 00 09 70 48 59 73 00 00 10 99 00 00 10 99 01 0B 77 5F C2 00 00 00 19 74 45 58 74 53 6F 66 74 77 61 72 65 00 70 61 69 6E 74 2E 6E 65 74 20 34 2E 30 2E 31 30 AD 0A 0A C0 00 00 0F E5 49 44 41 54 78 5E ED 9D 7B 5C 54 65 1A C7 67 86 EB 30 03 0E 77 70 E4 32 C3 C0 C8 6D 04 06 98 48 0C 4D 10 84 32 90 2C B5 D5 36 BB 91 79 C1 ED 66 54 92 DD 83 5D 77 F1 C2 FA 29 95 B4 EC 66 76 B5 16 C3 BB 88 A2 6D BB 59 EE A7 BB 9F B6 AB 5D 76 2B B3 72 AD 9E 3D CF 71 69 B9 3C 29 33 F3 BE 87 39 A7 F3 C7 57 61 E6 9C F3 3E EF FB FC 78 CF 7B 7D 5E 0D 00 9C 92 E5 CB 97 1B 2F BE F8 E2 BA 33 CE 38 E3 BE CC CC 4C 88 89 89 81 E0 E0 60 08 08 08 50 F1 21 F4 7A 3D C4 C6 C6 82 D3 E9 04 87 C3 71 47 7D 7D 7D 5D 63 63 A3 8E F2 69 6F C8 0F 91 E6 E6 E6 A4 EA EA EA F9 82 D3 BF 0E 0C 0C 04 AD 56 2B 5C AD 51 91 01 E8 AB A0 A0 20 28 2E 2E FE AA AA AA EA FC D6 D6 D6 18 CA C7 08 F5 A1 2E 2B 2B 2B D6 62 B1 7C 80 CA A2 12 50 91 0F 21 21 21 90 96 96 F6 56 59 59 99 41 F0 AD B6 9F AF 85 2B FA 7D D0 D0 D0 B0 32 3E 3E 7E C0 83 54 E4 8D F0 47 0D 2D 2D 2D 37 F4 F7 77 EF 5F 74 B7 DC 72 CB 4A 7C BF 53 0F 50 91 3F 71 71 71 3F 09 ED 82 C9 BD 7C 2E 7C FA BF 1F 5C 2E 57 6C 62 62 E2 80 9B 54 94 03 B6 0D CC 66 F3 E1 29 53 A6 18 FB 08 40 68 E9 27 A5 A7 A7 7F 40 DD A4 A2 3C AC 56 EB DA 3E 02 98 38 71 E2 7C 7F 7F FF 01 17 AA 28 13 A3 D1 F8 E3 C2 85 0B CF 11 05 20 BC 13 8C 82 22 BE A6 2E 54 51 2E 45 45 45 87 DA DA DA 82 35 53 A7 4E AD 53 BB 7B BF 3E 70 D0 48 E8 F1 95 6B EC 76 FB 7D EA 20 CF AF 0F 1C 28 32 18 0C E5 9A D1 A3 47 93 17 A8 28 1B FC A3 AF AE AE FE 54 A3 76 FD 7E BD 14 16 16 82 26 34 34 94 FC 52 EE F8 F9 F9 31 85 4A 43 EE 60 3B 40 83 13 3D D4 97 72 44 A7 D3 41 5A 65 2D 44 3C F3 06 68 3A 3E 65 4A D2 A3 07 20 BA 60 8C 98 06 95 B6 1C 11 47 7D 95 D4 03 18 35 6A 14 F8 ED 3D 0E 9A 03 42 07 97 03 A6 AD 47 60 E4 C8 91 64 DA 72 44 FC E3 57 8A 00 B0 51 13 36 FF 1E D2 71 2C 89 99 7E 35 99 BE 1C 51 94 00 F0 3D 6D BB 73 0D E9 34 96 14 36 34 93 E9 CB 11 45 09 00 F3 51 F2 C0 66 D2 69 2C 99 BC E2 11 32 7D 39 A2 28 01 E0 92 A8 29 2F FC 8D 74 1A 4B 0A 5F 7C 5B 31 BD 02 45 09 20 25 23 0B FC F6 FF 48 3A 8D 35 C9 16 0B 69 83 DC 50 94 00 C6 55 54 92 CE E2 41 D1 99 67 92 36 C8 0D 45 09 E0 92 BA D9 A4 B3 78 70 E1 D4 A9 A4 0D 72 43 51 02 98 BE E4 7E D2 59 3C 38 F7 DA 5B 48 1B E4 86 62 04 80 A3 73 DA D5 7B 48 67 F1 40 77 FB 83 8A 58 26 AF 18 01 84 85 85 41 D8 E3 07 49 67 F1 20 6A F9 F3 62 B7 93 B2 45 4E 28 46 00 09 09 09 90 B0 F9 3D D2 59 3C C8 DE F8 B2 B8 DE 9E B2 45 4E 28 46 00 FE 59 85 E0 D7 7D 82 74 16 0F 02 F6 1D 07 AD 29 8A B4 45 4E 28 A7 11 E8 28 22 1D C5 15 53 34 6D 8B 8C 90 54 00 59 65 55 30 79 F5 D3 70 C1 DA 4D 90 3E F5 32 C0 DD 47 DE 4E AD E2 FD 39 39 39 90 DD F2 38 ED 24 8E E4 DF BC 04 70 B3 2C 8B 3C 24 27 27 83 7D 56 3D 4C 5F DF 0E 15 CB 1E 06 5B 5E 21 79 2D 6B 24 13 40 76 69 25 04 75 7D FB 73 E1 F9 0B D5 75 C0 8E 7F C3 99 F7 AE 86 90 9C 22 08 71 73 51 0A DA 6C C8 2E 84 B0 B6 4E D0 77 1E 05 6D 2F C7 48 85 6E FF 8F 10 BC FB 6B 88 5E F6 1C 04 DA 32 DD 1E 1E 0E 09 8F 84 50 67 31 E4 2C DD 00 81 3B BF EC 33 8A 69 D8 F6 19 24 E7 14 90 F7 B1 44 12 01 18 0C 06 B0 3F B8 AB 4F E1 F5 67 D8 FA 03 50 7A F9 3C 88 8A 3A FD 7B 15 AF 39 BF 69 25 E8 F6 49 F7 CE 3F 1D FE BB 8F C2 CC C6 7B E0 74 AB AB B0 EB 18 17 17 07 A3 17 34 C2 B0 27 5E 23 9F D5 83 6B D9 06 AF 6B 97 D3 21 89 00 AA AF 98 43 66 90 22 7B FB 07 60 BD AE 09 AC B9 05 D0 7F A3 0A FE 7E E6 84 89 60 DA F4 0E 79 AF 2F 10 B9 7E 3F 38 72 F3 06 38 0E 0B 3A B9 78 3C 64 DF BA 02 92 76 7F 4E DE 4B 51 39 E9 BC 3E CF 61 0D 77 01 44 5A 6C 60 EA F8 98 CC DC A9 F0 EF FA 0E 26 BC 70 10 32 85 B6 42 5C 62 32 E0 C2 D5 B4 3B EE 87 C0 BD DF 93 D7 FB 12 01 7B BE 05 FB 9C 45 B8 07 0F A2 53 D2 C0 31 E7 26 D0 EE F8 0A FC 3D 58 A9 34 FC C9 D7 C0 18 C1 AF B7 C1 5D 00 AE 85 F7 92 19 73 87 B8 2D 1F 42 E2 8B FF 04 CD FE 9F C8 EF 7D 11 6C 1F 98 DB 0F 43 D4 B6 23 E4 F7 EE 50 5A B7 80 2C 5B 16 70 15 80 C3 E1 00 5D F7 0F 64 A6 54 06 8F 7E DB E7 60 B3 D9 C8 32 F6 16 6E 02 C0 5D 27 99 AD CF 90 19 52 71 0F EC E1 58 FE F0 98 50 AE EC E7 1E B8 09 20 A7 FC 5C 08 DB F7 1D 99 21 15 CF 70 96 9C 4D 96 B5 37 70 11 C0 B0 61 C3 20 E4 A9 37 C8 4C A8 78 4E FC 03 BB C5 65 6F 54 99 7B 0A 17 01 38 66 CD 97 55 83 4D 36 08 0D CB D1 35 17 32 9D 86 66 2E 80 A8 24 2B 98 76 0C BE 9F AB E2 1E F1 9B DE 82 88 78 33 59 F6 9E C0 54 00 38 F8 61 BE 79 05 69 B8 0A 3B F2 AE BF 9B 2C 7F 4F 60 2A 00 73 8A D0 55 51 AB 7E FE 08 AF 02 8B D5 4A FA C0 5D 98 09 00 C7 FB 23 DB 4E 3D DE AF C2 0E CB D2 A7 4E 3A 8F F0 85 3B 30 13 40 46 45 35 84 74 1D 23 8D 55 61 4F 64 D7 51 C8 2D 2E 21 7D E1 0E 4C 04 80 EB F1 74 3B BF 26 0D 55 E1 87 FE C9 D7 C5 2E 37 E5 93 C1 C2 44 00 E1 33 EA D5 77 FF 10 A0 ED FE 01 2C 53 66 91 3E 19 2C 5E 0B 00 17 46 86 77 7C 44 1A A8 C2 9F C4 1D 9F 8A 35 30 E5 9B C1 E0 B5 00 26 4F 9E 4C 1A A6 22 1D 65 65 65 A4 6F 06 83 D7 02 A8 AD AD 25 8D F2 65 A2 76 7E 01 C6 C7 0F 42 E0 43 2F 81 B6 6D AF 48 D0 FA BF C2 B0 8D 87 C0 D4 F9 15 79 8F 2F E3 4D 94 37 AF 05 80 63 D3 63 9F D8 EB F3 6D 00 5D F7 09 48 6B 7F 07 1C 33 AE 82 11 59 39 62 B5 89 33 96 38 78 85 60 AC 9C F0 F0 70 30 E7 BA E0 AC B9 37 42 DC 8E CF C4 39 7D EA 59 3E 43 F7 8F 60 6F 6C F5 6A AB 3A 93 46 A0 C5 62 81 D4 35 5B 69 23 7D 80 BC 0D DD 90 3F A3 0E 22 22 22 48 FB 29 46 8C 18 01 A3 AE 5A 08 B9 ED 6F 92 CF F4 05 4C F3 EE F2 7A 72 88 89 00 90 60 A1 31 18 D2 B8 1A 62 84 FE 29 65 EC 50 10 B7 F7 28 84 DD D4 0A C1 42 21 79 32 81 82 F7 84 9A 4C 60 58 FA 3C F9 FC A1 C2 D4 FE 3E 8C 29 2B 07 0D 83 49 21 66 02 40 70 D1 66 49 CD 05 10 B4 6B E8 DF A3 E1 7B 8E C2 A4 DF 5E C6 64 FF 5E 80 3E 04 6A 16 2E 06 7D F7 7F C8 B4 A4 C2 5F 78 25 E9 9F 7A 03 CC F6 4C D2 4E 4F 60 2A 80 1E 12 0A 46 83 6E B3 FB 0B 41 59 32 F6 CA 7A A6 D3 A6 D8 4E 38 EB B6 65 64 5A 52 51 76 FB 32 30 09 35 12 65 9F A7 70 11 00 12 6A 0A 87 B1 7F 7A 48 9C B8 A0 32 C3 93 C8 5B 57 81 3F 87 3C 19 42 43 21 66 CD 4E 32 4D 9E 68 BB BE 87 8C CB AE 19 B0 D4 9C 05 DC 04 80 E0 20 91 6D DE 62 08 EB FA 86 CC 18 0F 8A 37 BD 0A 21 06 03 69 0F 0B F4 B6 4C D0 EE 91 6E A9 5B C6 B3 87 20 3E 7F 34 B7 A0 54 5C 05 80 A0 E1 65 93 AA 21 E9 45 FE 5B B7 B1 AB E7 9C 71 25 D3 AA BF 3F D8 CE A9 58 D4 4C A6 CF 9A 98 D5 3B 20 21 29 89 B4 83 15 DC 05 D0 43 9A DD 0E C6 C7 5E 21 33 CA 8A 94 E7 DF F4 6A 58 74 B0 E0 86 0F EB AE CF 48 1B 58 E1 FF C7 67 B9 D6 64 3D 48 26 00 64 94 AB 08 C2 84 D6 39 95 61 16 38 67 CD 23 D3 E5 41 49 D3 6A D2 06 16 58 B6 7E 08 F1 09 D2 84 F0 97 54 00 45 45 45 10 C1 A9 3D 10 DB F9 25 A4 38 5D 64 BA 3C 08 FF CD 7C D2 0E 16 64 EE FA 44 DC 2E 4E A5 CB 1A 49 05 A0 19 3F 85 CC 30 0B 22 9E 7E 7D 50 3B 8B 59 81 51 C9 71 5B 3A 65 0B 13 D2 72 C8 74 59 23 AD 00 4A F9 09 20 F8 61 69 63 F6 E0 41 0B FE DB FF 45 DA C2 04 BB 02 05 A0 9B 70 21 9D 59 06 F8 AD ED 1E B0 9D 9C 27 28 36 ED 16 7E 0D 41 DD C8 3C 32 5D D6 28 46 00 01 0F 1E 38 99 19 22 5D 1E E0 24 8C 2A 00 77 E1 F8 0A 30 08 5D 4C 29 CF 3E 52 5F 01 1E A0 3D BB 96 5B 2C 9F 98 4D 6F 8B A1 57 A8 74 79 60 4F CF 80 60 4E 8D 40 1D FE 9F EA 20 D3 65 8D A4 02 70 B9 5C DC BA 81 51 7B 8F 41 EA E8 71 64 BA 3C 30 5D 34 8F B4 83 05 E9 3B 3E 12 23 A2 50 E9 B2 46 52 01 A4 B9 8A C1 B8 F7 FF 91 C2 58 53 7A 4D 23 99 2E 0F 78 0E 04 99 B7 1F 81 C4 91 19 64 BA AC 91 44 00 38 36 1F 35 22 09 74 CF 1C 26 33 CC 8A E8 AD 9F 40 74 34 FF E0 8D 18 96 36 9C F3 DA 41 E3 C6 7F 40 6A 96 83 EB BC 06 22 89 00 72 8A 4B C0 F0 1C FF C8 5E B8 4E 3E F3 F2 6B B9 4F 06 E5 2F 6A 21 D3 67 4D 52 FB 61 38 67 D2 79 5C A6 81 7B E0 2A 00 EC 2A 8D BC F4 77 10 B1 47 BA 5D 43 85 5B 0F 83 29 32 92 B4 87 05 D6 CC 6C 18 D9 C9 77 22 A8 37 18 3C D2 3A A7 91 5B 0F 87 9B 00 C2 4C 26 B0 34 AD 1F 92 D5 C2 61 2B DA 21 30 84 FD 4C 9A 31 32 1A 0C 1B 4E 1D DC 91 07 58 B3 95 AF DC 08 01 51 EC 7B 39 5C 04 60 B7 DB A1 70 ED 16 32 33 52 51 59 DF 40 DA E6 29 F8 5A A9 5C D2 46 A6 25 15 7E 9B DE 03 6B 4E 3E 69 9F A7 30 15 00 16 52 EA 84 49 92 AE 98 F9 25 82 F7 1D 87 C9 0B 6E 14 D7 FE 53 B6 BA 43 F0 B0 70 98 D0 74 3F E8 7C 60 EF 83 71 D7 97 70 F6 B4 99 CC 56 08 31 13 80 9F 50 E5 56 CE BB 01 02 F7 F0 EB E6 B9 4B 48 F7 71 71 49 77 64 9C 67 51 C9 B1 C1 17 6F B5 41 D0 23 7F 27 9F 3F 54 18 F7 7D 0F FA 3B D7 83 81 C1 E2 17 26 02 C0 0D 17 FA 95 43 5B E5 9F 0A 5C 29 34 E6 9A 5B 07 3D 5D 8C 35 19 06 66 2C BC 75 19 58 B6 7E 40 3E D3 17 B0 DF BF 19 92 BC 5C 32 E6 B5 00 B0 8A 1D B1 CA 77 9D DF 9B C4 6D 1F 43 6A FD ED 90 7A 56 29 C4 C4 C4 80 D1 68 14 F7 0D 60 21 60 2B 1B 97 7A D9 2A 6A A0 40 70 3C 06 60 A0 9E E1 6B 94 3C B9 DF AB 69 70 AF 05 50 5D 5D 4D 1A E6 CB 04 76 7D 27 4E E4 E8 B6 7E 0E 9A 8E 4F 45 F0 67 3C BF 20 70 88 37 7F 78 42 69 69 29 E9 9B C1 E0 B5 00 6A 6A 6A 48 A3 54 A4 03 97 DA 51 BE 19 0C 5E 0B 00 43 94 A4 F8 F0 7B 52 E9 24 3D F5 AA 57 3D 1D AF 05 80 C4 4F 9F ED 13 5D A4 5F 1B 78 FE 80 B1 C8 F3 EA 1F 61 22 00 DC 57 EF BF ED 0B D2 48 15 7E 04 AC 7F F9 A4 03 09 9F 0C 16 26 02 40 5C E7 4D 81 88 BD 6A 98 38 A9 88 DD 7E 04 46 A4 DA 49 5F B8 03 33 01 60 A0 48 DB 7D ED A4 B1 2A EC 31 37 2C 65 32 1A C8 4C 00 C8 08 5B 2A F8 EF 73 FF 5C 1C 15 F7 F0 EB 3C 06 46 46 B3 83 4C 05 80 C3 AD 09 8B FE 4C 1A AD C2 8E E1 33 E7 93 E5 EF 09 4C 05 80 C4 99 CD 90 BA 5D 8D 1B C8 0B EB 83 9D 62 9C 02 AA EC 3D 81 B9 00 10 8C C4 D5 FB 14 4C 15 36 F8 09 DD 3E 4B 81 E7 21 E1 28 B8 08 40 3D 32 86 0F B8 D0 85 B5 AF B8 08 00 C9 2F 9B 48 66 42 C5 33 2C BB 3F 07 5B 9A F7 DD BE FE 70 13 80 9F F0 CC D4 25 8F A9 41 A4 19 80 4B C2 B2 EA 17 73 59 EC CA 4D 00 08 2E 0D D3 FA D0 01 CF 72 25 B0 E3 88 78 D4 3E 55 C6 DE C2 55 00 88 EB 9A DB C9 4C B9 43 FA F3 AF 43 EE 33 07 87 E4 88 78 4F F1 EB 3E 01 99 4F BC 04 96 F6 77 C9 EF DD 21 BF 76 3A 59 B6 2C E0 2E 80 E8 E1 66 B0 BE F0 16 99 B1 53 11 D6 F1 31 54 AC 7A 16 B2 C6 8C 03 BD D1 78 F2 08 FA AB 1A 20 7A A7 EF 9F 48 16 D9 F1 21 D8 6B 67 8A 0B 35 F4 61 C3 60 54 CD 34 D0 3D 7A 10 42 77 B8 3F 5F 92 F6 C0 76 31 FF 54 D9 B2 80 BB 00 90 F2 19 97 92 99 A3 70 6D 79 17 32 2E 5D 00 71 29 A9 03 86 3A 71 A0 29 D3 59 08 91 4F 1E 22 EF F5 05 62 57 6D 83 E4 94 94 01 EF 6B 5C 5F 18 9B 31 0A 5C F5 8B 20 6D E7 27 E4 BD 14 C5 63 F9 EE 77 94 44 00 F8 97 60 3D 4D 30 E9 D8 E5 9B E0 8C F3 2F 1A 54 24 4C 9C 7D 34 DC B1 0E 74 5D BE 73 94 7C C0 B6 2F A0 EA CA 79 62 4D 45 D9 DC 1B 5C 9B 98 3B F3 2A 88 3B CD 21 5B 19 77 AD E1 BA 2B 08 91 44 00 48 96 B3 00 E2 3A BF FC 39 73 86 AE 63 10 BA E1 55 28 9A 77 13 84 C4 C4 83 CE CD 89 0D 2C 18 63 EC 70 08 BF EB 21 30 6F 7E 6F 48 D6 23 04 EE 3F 21 6E 4B 8F B8 6E 09 F8 19 C3 DC 6E A5 EB 84 72 37 C6 99 21 67 61 93 18 E3 28 A8 D7 3C 4A F2 96 F7 21 99 C1 6C DF E9 90 4C 00 88 73 7C 39 CC 5F F3 38 5C B1 62 2D 58 CE 9A 20 0E 18 79 DB B5 41 21 60 44 2D E7 6D AD 7D 9C 23 05 45 73 6E 84 E1 C3 87 7B 9D 07 BC 1F 6B 85 B4 CA 5A B8 FA BE 87 E1 CA D6 75 E2 AB 8E BA 96 35 92 0A 80 2B 8E 22 D2 49 5C 31 F1 DF 89 CC 1B C5 08 20 38 3D 0F F4 12 4E 45 87 EE F9 06 FC 4C FC 36 A1 4A 85 62 04 80 6B FA CD ED 7C E3 0F F4 06 FB F8 52 86 A5 E3 85 62 04 80 9B 3C 8C 8F 4A B7 85 2B 62 E9 73 92 86 A5 E3 85 62 04 20 36 C4 56 75 92 CE E2 81 F6 B6 75 A4 1D 72 43 39 8D 40 01 E3 CA 0E D2 59 3C 98 36 67 01 69 83 DC 50 94 00 AE 98 CB 2F 80 73 7F 6A F0 C0 4C C2 06 B9 A1 28 01 9C 3D B1 8A 74 16 0F F2 0B 0A 48 1B E4 86 A2 04 60 4D CF 24 9D C5 1A D3 BE 6F 21 56 C2 A0 94 3C 51 94 00 02 F5 7A 70 75 F0 8F 46 36 7B E3 76 EE 63 F4 52 A1 28 01 60 3E C6 AD E3 DF 10 AC F8 FD 6A 32 7D 39 A2 28 01 E0 F4 71 DA DD 0F 90 4E 63 49 C6 5C E9 22 92 F2 46 51 02 C0 B1 00 D3 82 26 D2 69 2C 31 D5 5E 4E A6 2F 47 14 25 00 24 37 37 57 5C 3F 4F 39 8E 05 21 7F 79 9F DB FA BC A1 40 14 00 1E 9D 4E 7D 29 47 B0 16 08 2B 39 07 34 AB BB 40 B3 86 2D A1 0D AD 10 99 28 CD 61 4E 52 21 9E 3E EE CE B1 EA 72 01 85 80 2D 75 96 50 E9 C8 1D 3C F8 42 93 9A 9A 4A 7E A9 A2 7C F2 F2 F2 40 53 55 55 45 7E A9 A2 6C B0 96 BC E4 92 4B 40 53 52 52 72 87 52 AB 38 95 5F 06 83 4B D5 D4 D4 CC D6 D4 D7 D7 D7 B1 88 A9 AB 22 2F F0 FD DF D0 D0 50 AE 69 6C 6C D4 39 9D CE AF A8 8B 54 94 CB B8 71 E3 5E 01 00 AD 46 F8 47 53 51 51 71 BE D8 25 20 2E 54 51 1E D8 F3 AB AB AB CB 45 DF 8B 02 58 B7 6E 5D 4C 76 76 F6 5B D4 C5 2A CA 63 CC 98 31 5D 6D 6D 6D C1 3F 0B 00 29 2B 2B 33 64 65 65 0D B8 58 45 39 60 CB 3F 3E 3E BE 4B F8 59 D7 E3 F7 9F 05 20 A0 6D 6E 6E BE 21 2A 2A EA A7 FE 37 AA C8 1F 74 BE CD 66 3B DE D2 D2 52 D1 CB E7 C2 37 BD 7E 41 16 2F 5E BC C8 62 B1 0C 78 80 8A BC 89 8C 8C EC 6A 6A 6A EA E3 7C A4 CF 2F 3D 64 64 64 18 1D 0E C7 6B 6A C3 50 FE E0 86 DB 9C 9C 9C 3E D5 7E 6F 06 7C D0 83 D0 3D 34 CE 9D 3B F7 DC BC BC BC 43 B8 23 97 D5 39 35 2A FC 11 B7 A3 0B FD FC F2 F2 F2 57 B0 B5 DF D3 E0 A3 20 3F EC 0D DE 3C 6D DA B4 F2 F1 E3 C7 DF E9 74 3A C5 5D 38 58 33 E0 54 A2 8A 6F 80 33 BA B8 D9 16 4F 35 15 1A F3 30 76 EC D8 D9 D7 5F 7F 7D B9 E0 3F 6D 7F 7F F6 05 34 FF 05 71 98 2D 96 BD B3 5C 36 00 00 00 00 49 45 4E 44 AE 42 60 82',
		Selection = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 01 73 52 47 42 00 AE CE 1C E9 00 00 00 04 67 41 4D 41 00 00 B1 8F 0B FC 61 05 00 00 00 09 70 48 59 73 00 00 0E C3 00 00 0E C3 01 C7 6F A8 64 00 00 00 19 74 45 58 74 53 6F 66 74 77 61 72 65 00 70 61 69 6E 74 2E 6E 65 74 20 34 2E 30 2E 31 30 AD 0A 0A C0 00 00 02 F6 49 44 41 54 78 5E ED DB 31 8A 23 01 10 43 51 DF FF 26 7B A6 39 C8 86 1E 4F 26 9A 9F 49 41 19 C9 F0 1C FC A8 50 D4 D0 F4 EB FD 7E 4F 31 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 36 79 FD FB FC 7D 11 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 A3 E3 F3 FB FB FB 1A 3F FF DF 5F 45 B7 4E C0 E8 78 0E 7C 1D 8D 7C 99 6E 9D 80 D1 F1 1C F8 3A 1A F9 32 DD 3A 01 A3 E3 39 F0 75 34 F2 65 BA 75 02 46 C7 73 E0 EB 68 E4 CB 74 EB 04 8C 4D E8 49 FB 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 63 13 1A F9 32 BD 3D 01 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C 0E 7A 87 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 7D CD 32 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 1D 3D 39 BA 75 02 46 07 3D B9 4E 8E 6E 9D 80 D1 41 47 4F 8E 6E 9D 80 D1 41 47 4F 8E 6E 9D 80 D1 41 47 4F 8E 6E 9D 80 D1 41 47 4F 8E 6E 9D 80 71 7A 60 9C 1E 18 A7 07 C6 E9 81 71 7A 60 9C 1E 18 A7 07 C6 E9 81 71 7A 60 9C 1E 18 A7 07 C6 E9 81 71 7A 60 9C 1E 18 A7 07 46 07 BD C3 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 BE 66 99 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 8E 9E 1C DD 3A 01 A3 83 9E 5C 27 47 B7 4E C0 E8 A0 A3 27 47 B7 4E C0 E8 A0 A3 27 47 B7 4E C0 E8 A0 A3 27 47 B7 4E C0 E8 A0 A3 27 47 B7 4E C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 A3 83 DE 61 5F A6 B7 37 C2 E8 A0 91 2F D3 DB 1B 61 74 D0 C8 97 E9 ED 8D 30 3A 68 E4 CB F4 F6 46 18 1D 34 F2 65 7A 7B 23 8C 0E FA 9A E5 B2 D7 67 82 6F F2 DC DB 85 D1 41 23 5F 46 23 5F F6 DC DB 85 D1 41 23 5F 46 23 5F F6 DC DB 85 D1 41 23 5F 46 23 5F F6 DC DB 85 D1 41 23 5F 46 23 5F F6 DC DB 85 D1 41 4F DA 97 E9 ED 8D 30 3A 68 E4 CB F4 F6 46 18 1D 34 F2 65 7A 7B 23 8C 0E 1A F9 32 BD BD 11 46 07 8D 7C 99 DE DE 08 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 0F 8C D3 03 E3 F4 C0 38 3D 30 4E 8B F7 EB 17 D4 75 A7 8D 2A AF AA A6 00 00 00 00 49 45 4E 44 AE 42 60 82',
		MemoryBrowse = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 09 70 48 59 73 00 00 0B 12 00 00 0B 12 01 D2 DD 7E FC 00 00 11 7F 49 44 41 54 78 9C ED 5D 09 74 14 45 1A FE 7B EE C9 39 63 06 43 42 02 01 25 A8 88 04 50 04 C1 18 15 BC 38 64 11 45 D0 65 11 54 16 9E 0F F1 62 3D 11 71 57 54 10 79 3C 6F 11 51 57 01 75 DD 18 39 44 14 B3 E2 C9 8A 09 1E BB 26 72 44 08 21 81 99 CC 0C C9 64 EE E9 7D 7F E3 60 08 D3 33 7D 54 1F EC F4 F7 1E C7 7B D3 55 F5 57 FD 5F FD F5 75 5D 4D D1 34 0D 1A D2 17 3A CD F7 E9 0D 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 8E 93 82 00 14 45 4D B7 74 EB F3 A1 C9 DE A3 99 A2 28 BA F3 1F B3 A3 F7 2E FC 0D 9F A1 28 CA 26 83 2D B6 B8 3D 58 76 57 7B D0 C6 B8 3D 52 DB 42 02 AA DE 0F 60 CC 72 DC 17 0B F9 1E 36 9F DA D7 E0 18 31 43 6F 2D 2E 83 8C A2 32 D0 67 1C F5 73 B4 C3 03 1D 8D B5 E0 DF 5F 0B 47 FE FB 71 D8 FB C3 06 A3 D9 D1 7B 73 D0 B9 F7 5E 9A A6 6B 49 DA 42 51 54 99 D9 D1 FB F1 A0 73 EF E5 B9 03 C6 84 73 CE 1C 65 4C 66 8F F3 8B 55 D1 E0 A1 5F 22 3A 53 E6 23 E1 76 E7 62 92 B6 90 84 6A 09 60 B2 F7 A8 A2 28 FD 98 92 19 AF EB B2 4B 2B 38 A5 09 B9 1A C0 F9 E5 6A 68 D9 B2 34 A2 B7 E6 6E 0A 7B 9A A6 D1 34 ED 11 63 07 F6 78 A3 AD F0 F5 A8 DF 7B 65 FE E8 BB 0D 8E 0B A6 83 29 AF 84 53 DA B6 FA 6A 68 58 35 2D 46 D3 D1 0D 21 F7 81 F1 62 EC 90 0A AA 24 80 D9 D1 FB 4D BD 25 7B 72 BF BB 3F D3 C7 7B 17 1F 20 11 F6 AF 9B 87 0E 70 47 FD DE 4B 84 46 03 EC F5 7A 6B EE D6 EC D2 0A 7B F1 E4 E5 9C 1D DF 19 18 15 EA 96 96 47 A3 81 B6 75 41 E7 DE 1B 84 D8 21 25 54 47 00 8A A2 4A 74 E6 CC 5F CE 79 BC D1 20 C4 F9 9D D1 F4 C1 42 68 D9 FC 64 28 16 F6 9F CF 97 04 E8 7C 9D D1 FA 4D FE E5 F3 4D 85 E3 16 8A B2 03 49 F0 FD BD 45 91 58 D0 D7 97 A6 E9 06 51 99 11 86 EA 44 A0 21 F3 94 A5 F6 C1 93 44 3B 1F 81 8E 73 94 DF 6A 32 64 39 AA 78 DB 91 E5 A8 C2 B4 62 9D 8F C0 BA 60 9D B0 6E A2 33 23 0C 55 11 00 C7 DB 58 A8 63 EC A9 97 CE 23 96 67 F1 75 CB C1 98 5B 50 68 CA 2D 98 C3 35 0D 3E 8B 69 30 2D 29 60 9D B0 6E 72 BC A9 F0 81 DA 22 C0 04 54 FC 19 C5 65 44 33 2D 1C BF 48 4F C7 22 F7 72 7D 1E 9F CD 1F 75 A7 9E A4 0D 58 27 AC 1B D6 91 64 BE 62 A1 2A 02 18 B2 1C 8B 48 37 3C C2 56 36 01 22 ED CE 62 AE CF E3 B3 98 86 34 B0 6E 58 47 E2 19 8B 80 6A 08 80 A2 2B 16 F6 17 48 D1 F0 42 40 42 83 74 05 D6 0D EB 88 75 95 B9 3A AC 50 0D 01 8C 39 F9 73 49 89 3F B5 22 2E 06 B1 AE 6A 31 51 35 04 88 FA BD 53 49 8A 3F B5 02 EB 88 75 55 8B 79 AA 20 00 CE 9B 4B 21 FE D4 88 B8 18 54 CB 5A 81 2A 08 60 B2 17 11 57 DD 9D D1 B1 BF 16 F4 19 76 2F D7 E7 F1 59 4C 23 15 B0 AE 58 67 C9 0A E0 01 C5 09 80 33 7F 91 0E F7 69 52 8A BF A8 DF 03 86 AC 3C CE 6B 02 F8 2C A6 91 0A CC 5B 49 87 FB 34 AC BB 64 85 70 84 E2 04 30 E6 E4 2F F8 7F 17 7F 5D D1 49 0C 2E 50 DA 16 C5 09 20 97 F8 A3 C3 81 40 FC FF D8 F3 28 8A AA E8 FC 87 ED 59 A9 A0 16 31 68 50 B2 70 14 42 D6 1E 03 64 11 7F 91 76 97 CD 5A 70 E6 D6 90 AB E1 02 9D 39 53 9F 51 3C 08 28 9D 9E A9 7F D8 DB EC A7 28 CA 6A CC C9 6F 02 80 CD B1 90 5F F2 76 E9 2C 06 69 9A 5E 2D 75 79 6C 50 94 00 52 8B BF CE 30 64 39 BA 75 2B 9F 75 31 8E BF 09 96 75 AD F8 97 A7 B6 B2 D0 53 5B 79 93 A7 E6 BD 98 1C 36 61 DD 9B AA 1E 42 31 A8 18 01 14 5B 0E 26 B9 EC 9B 0A B8 1C CB A7 0C 7C 1E 24 9A 0D EC 5A 8E D2 CB C4 8A 69 00 39 C5 1F DF 32 F0 79 B9 EC 52 5A 0C 2A 46 80 74 99 F9 4B 05 A5 C5 A0 22 04 48 A7 99 BF 54 50 7A 66 50 11 02 C8 29 FE 4E 06 28 39 33 28 3B 01 E4 98 F9 3B D9 A0 E4 CC A0 EC 04 48 C7 99 BF 54 50 52 0C CA 4E 00 4D FC 25 86 52 62 50 56 02 68 E2 8F 1D 4A 89 41 59 09 A0 89 BF E4 50 42 0C CA 46 00 4D FC A5 86 12 62 50 36 02 68 E2 2F 35 94 10 83 B2 11 40 13 7F DC 20 B7 18 94 85 00 9A F8 E3 0E B9 C5 A0 2C 04 D0 C4 1F 3F C8 29 06 25 27 80 26 FE F8 43 4E 31 28 39 01 34 F1 C7 1F 72 8A 41 C9 09 A0 89 3F 61 90 4B 0C 4A 4A 00 4D FC 09 87 5C 62 50 52 02 68 E2 4F 1C E4 10 83 92 11 40 13 7F E2 21 87 18 94 8C 00 9A F8 13 0F 39 C4 A0 64 04 D0 C4 1F 19 48 2D 06 25 21 80 26 FE C8 41 6A 31 28 09 01 34 F1 47 16 52 8A 41 E2 04 D0 C4 1F 79 48 29 06 89 13 40 13 7F E4 21 A5 18 24 7E 34 4C 6F B2 06 FA FD E5 2B B3 9A C7 7F BC FC A1 BD BE 1A 82 AE 06 E6 62 67 44 56 69 05 98 F3 4A 98 DE A6 46 F2 A2 CD 75 4F 0C 0F 46 43 7E 0B C9 7C 89 1E 0E 95 F3 B4 AF 10 B8 BE 5C 0D 07 DE 7F 30 12 F5 B9 A2 C6 DC 82 EA A0 73 EF D7 00 50 8D 51 B6 63 7F ED 30 7D 86 FD E2 86 D7 6E 1A 6A 1B 78 35 14 8C 5B 08 6A AA 87 54 A7 89 89 46 00 F3 29 C5 3F 17 8E 7F B4 5F DE 05 EA BA 2A DF 53 5B 09 FB D6 DC 16 A1 28 6A 77 C8 DD 88 57 C9 57 B2 3D 8B 37 79 9A EC 45 0B 23 ED AE D9 3D A7 3E 67 52 53 5D 90 C0 4D 55 0F D5 05 5B F7 9F 41 2A 4F 62 1A 40 AD E2 0F 1B 6D EF CA 29 41 88 45 6F C7 86 4B E6 7C 04 5E 2F 1F 6C DD 3F 2F 16 F6 2F C6 21 42 4D 90 42 0C 12 23 80 5A C5 1F 3A 31 16 0E 3C 1E F2 1E 7C 4E 05 E6 88 82 14 62 90 18 01 D4 3A F3 17 3A DA 8B 85 DC F8 E4 09 A9 2C 02 80 04 33 83 44 08 A0 E6 99 BF DF 9C 28 E4 CE B7 5A 35 12 80 F4 CC 20 11 02 68 33 7F F2 82 E4 CC A0 68 02 68 33 7F F2 83 A4 18 14 4D 00 B5 CF FC 45 03 6D 82 6F 7C 14 93 56 4A 90 14 83 A2 09 A0 2D FB 2A 03 52 62 50 14 01 4E 86 65 DF 68 A0 4D F0 6C A7 98 B4 52 83 94 18 14 45 80 93 41 FC 05 0F FD 92 45 D3 74 35 DF 74 98 06 D3 4A 63 15 19 90 10 83 82 09 A0 89 3F E5 41 42 0C 0A 26 80 B6 EC AB 3C 48 88 41 E1 E3 A3 00 F1 87 4B 9A E1 DD 6F C3 91 9F AB 81 A2 00 E8 80 1B CC B9 D9 10 F4 B6 01 65 B1 83 31 33 17 8C 05 83 C1 52 7A AD AA 56 E2 C4 02 27 94 82 F5 6F 43 F0 60 0D 04 0E FF 0A 51 BF 1B AC B6 6C 26 57 5F AB 8F A9 77 76 BF 0A A0 6D 43 81 6F 44 45 1F B8 BF 5D 87 62 70 86 10 33 05 11 80 CF B2 2F 5E 87 DA BE FD 49 F0 D4 54 42 CF F3 4E 87 A1 D7 95 43 61 D9 7D 60 2F 29 38 E1 59 77 C3 41 D8 5D BD 03 76 6D 5D 00 F5 AB BE 63 2A 97 3D F8 66 55 AE CF 73 41 7B CD 4A 38 BC F5 69 E8 D6 37 1F CA 26 61 BD C7 41 61 59 E9 09 29 FD 9E 36 D8 53 BD 03 76 57 AF 83 9D 8B 6E 83 BC 21 E3 21 7B D8 7C 4E 9F AA 15 BB 4C 2C 68 39 98 EB B2 AF E7 F3 A5 70 F8 D3 A7 E1 8A 47 6F 81 FE 13 2E 3A C6 7A 2E C0 46 F9 7C F9 1A F8 7A E5 46 E6 0B A0 59 83 6E E6 6D 27 62 C7 2C 0A 05 1D 25 24 2D 7E 0E 7E C8 8B FC DB C7 BF 67 2B EC 7B 63 1A 0C BF E5 2A 38 77 FA B8 84 64 4F 86 6F 57 AF 87 CD 0B 5E 86 6E 23 FF 04 59 43 E7 A7 EC 00 62 96 89 79 13 80 CB 25 CF D8 EB 9B 5E BF 0A 4A CB 7B C1 E8 85 B7 F2 72 7C 57 20 11 D6 4E 5B 04 DE 56 2B 9C 3A E9 2D 5E D1 00 87 9C FA 65 97 78 23 BE 56 41 21 C4 90 79 8A A7 F4 CE AD B9 7C 86 23 D7 86 39 40 79 B6 C3 F5 AF 3D CC DB F1 5D B1 65 E1 4B B0 63 ED 17 90 7F ED 9B 49 87 44 31 97 4E F3 16 81 A9 C4 1F 36 FA EE 25 67 C3 95 0B 26 C2 F8 E5 77 89 72 3E 02 D3 DF 54 B5 04 46 DE 3C 14 1A 5F BC E0 D8 4D DE 5C C0 F7 53 31 5D C1 E7 D3 31 68 D7 BE E7 46 40 DF 41 11 98 FD AF 17 44 3B 1F 81 9D 67 DA DA 07 A0 E9 B5 31 4C 54 61 83 18 31 C8 9B 00 C9 C4 1F 3A BF 71 D5 58 98 B9 E1 49 E8 3F 81 DB 37 FF B9 E2 DC E9 63 E1 C6 35 0F C2 A1 35 57 F0 22 81 1C 40 7B F6 3E 33 12 2E 9E 37 9A 71 1A 49 A0 66 B8 F3 FB BF 83 73 FD 1C 08 35 7F C7 9A B3 D0 99 41 5E 04 48 36 F3 87 8D 70 F8 DD A9 8C F3 13 09 1D 12 C0 7C 47 DF 37 09 F6 3D 3F 82 73 6E 74 34 12 11 5A 34 D7 B4 EE 0F 67 43 F9 6D 97 33 24 95 02 18 05 67 AE 5F 02 BF BE 3C 0E D8 BE 66 26 74 66 90 17 01 92 CD FC B9 36 CE 81 E1 B3 AE 94 CC F9 71 60 64 19 32 65 04 33 D6 72 41 2C D8 DE 2E B4 2C 2E 69 51 E9 67 98 9A E1 C2 79 53 84 16 C3 09 38 A4 4C 79 63 01 B4 BC 7D 03 EB E3 42 66 06 39 13 20 D9 CC 1F 8E 4F 86 60 BD E4 8D 10 07 86 59 FF DE AD AC BD 41 2E 60 D4 3B B8 FE 61 B8 FE 75 79 6E 75 3B AD 62 08 9C 75 E5 39 CC DB 55 22 08 99 19 E4 4C 80 64 E2 CF B5 E5 41 46 F5 CA 89 09 2B EE 80 D6 8D C9 A3 00 09 AD 90 2C 0F 9C DF C0 57 5C B1 42 97 0F 90 FC F8 6A 9D C8 2E 21 62 90 33 01 D8 C4 1F F6 FE 1E FD 1D 44 54 2F 1F 60 6F B0 64 84 21 D9 B6 2D 8C 10 A6 BC 5E 82 C3 04 A6 65 8B 32 E8 00 4F ED 3F 25 1B F7 D9 80 64 3B 7F E6 18 68 FB 6E 65 C2 27 F8 8A 41 4E 04 48 26 FE 7C B5 2F C3 79 33 C6 F0 AD 07 11 54 DC 35 19 7C FF 7E 42 91 B2 FD 75 EF C2 19 97 29 33 5D 3D 72 DE 14 70 6F 7F 35 E1 6F 7C C5 20 27 02 24 13 7F AD 3F 6E 63 7A A3 12 40 41 78 F8 9B 0F 14 29 DB F7 D3 3F 98 59 3E 25 80 51 20 BB 5B 06 6B F4 E3 23 06 53 12 20 99 F8 C3 F0 58 34 B8 AF 22 8D 10 87 BD A4 30 E9 38 DD F1 EB 0E C1 5B 7B 93 A5 F5 EE F9 41 F2 37 9E 64 28 BD 74 10 04 0F 26 9E 17 E0 23 06 53 12 C0 64 2F 9A C7 26 FE A2 DE 3D 8A 13 A0 DF E8 32 E8 68 94 F7 6D 00 09 67 EF 55 28 6B 99 5D D1 A7 62 08 C4 9C DF 26 FC 2D 2E 06 D1 77 A9 F2 49 49 00 3A 1A 19 C5 B6 44 89 06 F4 51 28 FC C7 61 B1 65 03 E5 DB 25 6B 99 48 38 24 9E 92 C0 61 20 D0 58 C3 6A 01 FA 0C 7D 97 CA C4 D4 1A 40 A7 73 A8 79 39 16 C3 30 46 A2 44 C0 23 E0 02 0F 85 C4 51 FB 5B 1E AA 03 D6 3B EC F3 B2 9A C5 F8 4C A7 73 A4 B2 3B 25 01 C2 9E A6 FC EC 52 B2 F3 FA 32 43 CC 64 80 2A B7 85 73 01 FA 0C 7D 97 EA D1 94 04 D0 67 D8 BD 4A CF B8 25 43 53 6D 3D E8 CC E9 B7 2D 0D 37 CF E0 4E 22 36 A0 CF D0 77 A9 F2 49 4D 00 73 66 33 DB 92 A8 CE 71 2E B3 93 45 49 04 3C 6D 00 79 43 13 5A 10 8B 84 02 62 4D 4B 94 47 46 51 19 D4 6D 51 B6 53 B4 36 34 81 A5 68 10 EB EF E8 33 F4 5D AA 7C 38 68 00 C3 0E BC 60 21 11 F4 B9 7D C0 B5 27 65 19 92 A2 FE 93 1A E6 6A 97 44 A0 23 41 D1 04 48 94 07 8E AF 1D EE 36 45 EB 8D 91 0F DB 9F 0D 8C CF 74 86 94 BD 33 25 01 42 AE 86 77 DC 3B DE 4D B8 2C 8A B3 4E FB BE FD 45 50 05 48 C1 E7 F4 71 DA 3B 47 1A 16 47 09 13 86 95 42 FD C7 35 60 EA C9 2E F2 D1 67 E8 BB 54 E6 A5 7E 0D A4 E9 CA 58 A8 C3 D7 C6 A2 86 33 7B 96 31 6C 54 02 3F 55 56 43 CE 99 17 B1 96 1C F6 34 59 C4 8A C0 DF F2 38 B1 DE FD AF 81 1F 2B 95 79 43 C0 6D 72 07 6A EA 59 89 8F BE 42 9F A5 BA 0D 05 B8 AF 05 E8 9E 68 7A FF A1 84 51 20 B3 EC 16 F8 6C D9 5A 2E D9 10 C7 F6 55 1B C0 DC 7F 16 6B B6 E1 23 CD 16 9A A6 05 0F D6 98 16 F3 48 F4 9B B5 DF 24 F8 E6 E5 8D 0A D4 FA E8 A6 D1 C2 CB E6 B2 FE 8E BE D2 19 CC F7 73 C9 8B 13 01 C2 ED CE C5 FE 03 3F B4 1D FA 64 F9 09 BF 59 FB 5C 02 F5 9F 7C 27 7B 38 C4 A8 D3 7A 20 A8 D8 F9 01 D4 01 78 86 01 9D 21 27 B0 F7 23 F1 32 06 26 DE 7A 86 3E 42 5F 71 BD 12 87 CF 72 F0 44 BC 62 2D D1 2B 61 E1 35 2B A0 72 EE 32 59 1B E2 FD DB 97 41 DE E8 BF B2 FE 8E 61 90 CB 6B 50 2A 60 1E 6C C3 DF 29 97 FE 0D AA 97 AC 63 9C 22 17 70 AB 7C CE C0 3F 24 DC 1D 8D BE 61 AE C1 F3 7B 27 72 35 87 33 01 F0 B0 24 A5 33 3C B5 FB D9 F1 B1 AE 8B 2F D9 67 4F 84 36 8F 45 B6 DE B0 6D F9 1A A0 F2 CE 63 A2 0F 1B 50 05 EB AD B9 1B C4 96 85 79 B0 BD 05 E1 18 6C 1B 7A 13 54 CD 93 87 FC 18 F5 70 9B 78 6E C5 63 27 FC 86 3E 41 DF A0 8F F8 1C 86 E5 B5 27 30 D2 E1 B9 97 A6 A3 1B EA 96 96 47 BB 92 C0 31 71 0D 6C 7A 60 A5 E4 82 10 F3 FF EA C5 4D 90 53 BE 98 F5 19 B4 CD F9 F9 2B D1 90 AB 61 89 D8 F2 30 0F CC 8B 6D C5 31 7B F8 7C 38 B8 2B 2A 39 F9 31 CA BC 75 E3 22 E8 31 F5 8D 13 7E 43 DB D0 27 E8 1B F4 11 9F 7C 79 6F 0B 0F B9 0F 8C 8F F8 5C 1B B1 C0 CE EB D1 18 92 4A 66 55 C1 AB E3 EF 91 8C 04 98 EF 2B 63 E6 43 B7 14 07 44 5A 3E 59 0E 3A A3 E5 47 31 02 30 0E CC 03 F3 6A 49 A0 7F E2 C0 03 2B 5B 9F 78 5B 32 12 A0 F3 9F 1D 39 FB E8 71 B1 EE 83 8F FB 0D 7D 80 BE 40 9F A0 6F F8 E6 2D E8 74 30 16 14 0D B4 AD FB E9 91 01 D1 CE E3 23 1A D7 F3 E6 0F 60 D5 38 F2 24 C0 57 3E 74 7E D1 8C F5 49 85 1F DA D3 F2 D1 92 70 A4 DD 49 EC DC 3A E6 85 79 B2 69 01 24 63 D1 AC 2F E1 E3 C7 DF 61 86 27 92 C0 76 8C 3B DF 36 F4 F8 F3 9F 68 0F FA 00 7D 21 C4 F9 20 F6 AA 58 53 6E C1 9C A8 DF FB B4 A3 FC 56 53 E1 D8 85 C7 7A 25 8A 91 96 77 6E 80 21 D7 8F 10 7D 50 02 D9 8F 47 A4 FE B3 E9 7B E8 39 FB 8B A4 3D 9F B9 50 79 C9 85 51 BD 39 6B 2E E9 8B 21 99 BA 06 DB 57 F4 BB 67 9B 9E 8D 80 18 8A F1 8C 00 6E 13 C7 9D C2 62 37 8B 22 99 AA 97 AE 83 92 5B AB 8E EB F9 CC D1 BB F5 0B C1 F9 D9 4B 21 BD 35 F7 0E 31 75 15 7D 57 30 EE 3A 31 E6 74 5F 0F 3A 7D BF 9E 53 9E 31 74 DE 3B E0 AD BE 1F 0E 6D 7B 8D D9 39 2B 64 F3 24 86 54 54 D9 99 67 4F 64 14 77 32 A0 50 DB BB EA 8F 92 38 3F 8E 38 09 7A CF 78 43 9F EC 18 77 A0 EE 1D D8 B7 F6 0E 18 76 CB 55 CC FE 3D BE 44 C0 13 D2 1F 3E B4 12 62 D6 BE 90 77 D5 73 C7 91 3E 7E EF 31 C4 A2 75 E1 23 CD 63 F9 9E 05 EC 0A 62 97 45 63 E3 C4 22 C1 C7 AC 85 FD 33 0B AF 7E D4 10 5F 42 C6 31 CA F3 E9 FD E0 6F AC 61 36 51 E2 3E BE 64 7B 08 B1 F2 18 EE 77 BE BB 0D F2 CB A7 A5 3C 1D FB 7B 6F 78 31 68 C8 C9 9F 19 74 36 BC 49 A4 42 2C 30 3B 4A 6E 88 1C 39 B4 AA 6B D4 4B 64 97 FB F3 A7 98 BD 83 78 2C 7E C0 C4 72 66 F3 0C 1B 19 30 D4 63 DD 71 52 CD 76 56 39 E4 5C B4 F8 B8 99 3E 0C F7 38 C1 E3 6F FA C9 87 93 3C A4 48 4E FC 7B 01 71 22 E8 4C 19 99 DD 2F BB DB 90 37 7C FA B1 46 6A FB F1 3D 88 34 6E 01 DF AF 3B A1 A3 65 1F D8 7A FE BE AD 0A 43 BD DE 6A 87 CC 5E 03 C1 50 34 9A 79 B5 4C 86 A3 DB B2 2B 61 FF BA B9 31 CA 60 FE 01 C7 69 B1 BD 81 2B 30 EA 19 B2 1C 95 74 24 38 A0 78 F2 0A 5D AA 6F 0C C4 2F C6 68 AB AB 86 8E E6 7D 60 EB B4 9D 2C 7E 39 86 A5 5B 2F B0 F4 BE 94 99 61 8C E7 85 75 74 7D B5 1A 9A 3F 5A 1A C1 A9 5D 92 8E 8F 83 38 01 8E 65 4C 51 D3 4D 79 25 B3 43 AE 06 E6 FE 7D BC 01 03 1B 4A EC C2 0D 36 26 36 0A BE 9A 19 32 6C BB 42 EE C6 3F 0B B9 04 8A 04 28 8A AA 30 D9 8B 5E 88 74 78 4E 77 8C 9C A9 47 B2 8B 9D 99 64 22 66 6D 25 43 16 CF CE F7 B1 BD B6 87 5C 0D 8B B9 CC EB 0B 81 64 04 88 03 EF DF C7 83 3C 48 86 C8 91 E6 81 A0 D3 EB 73 CE 18 65 B0 16 97 31 8D 85 6C C7 E5 DC AE C4 40 F6 E3 DE 3B E6 DF FD B5 CC 97 3D 8E FC FC 71 84 D2 19 DA 74 46 4B 65 F8 48 CB 0A 12 AF 79 24 40 51 54 99 31 27 7F 6E 2C 1C 98 40 C7 22 D9 5D EB 87 FB 07 BA 46 08 E6 DA 18 57 C3 09 F5 83 58 34 6A C8 E9 BE 33 E4 6A 78 1E 00 2A F1 FA 7A 49 6D 97 9A 00 27 14 48 51 D8 45 CA 2C DD CF 18 16 69 77 0E D3 67 D8 6C 61 77 63 F7 58 38 60 EE FA AC D1 56 D8 02 B1 98 93 32 5A B0 41 B6 E0 D7 3D E4 0A F3 42 F1 DB 56 EC 0A 53 5E C9 68 3A 1C 18 88 FB F2 12 6D CD D2 19 2D 41 A3 BD A8 39 DA E1 F1 18 B2 1C 5F 07 9A 7F C6 AF 97 D4 CA 4D 6A D9 09 A0 41 5D 90 FC F3 F1 1A D4 0D 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 69 0E 8D 00 E9 0C 00 F8 1F A3 09 5A BB 08 73 AF 92 00 00 00 00 49 45 4E 44 AE 42 60 82',
		MemoryDisassemble = '89 50 4E 47 0D 0A 1A 0A 00 00 00 0D 49 48 44 52 00 00 00 80 00 00 00 80 08 06 00 00 00 C3 3E 61 CB 00 00 00 09 70 48 59 73 00 00 0B 12 00 00 0B 12 01 D2 DD 7E FC 00 00 04 FE 49 44 41 54 78 9C ED 9D CF 4B 1C 49 14 C7 DF 53 99 90 60 36 E2 C0 22 4B 96 F5 B0 B8 97 90 1F 07 0F 59 95 08 01 4F 39 EC 29 57 27 D7 1C 16 21 27 4F EB 3F B0 60 FE 82 98 63 6E 1E 72 0D 19 51 77 0F 5E DC AB 27 83 10 30 A0 18 1C 12 22 1B 2B 54 D3 3D 19 ED 99 B1 ED 6E BA BB EA FB FD 5C 9C 61 7A 66 BA EB 7D EC AA 7E AF A6 5A 8D 31 42 70 19 60 EC B1 F1 42 00 55 1D 51 D5 15 55 3D 52 55 13 FE 5D 55 D5 BB 15 D8 BD 4A E3 7C 17 10 04 59 75 4D 8C F9 21 FE E2 C0 B1 98 D3 3F 8D 31 2B A5 EC 9C 03 38 2D 40 67 F0 6B F5 5F A4 7E BF 21 23 77 FF 90 CF 7B DB F2 FE F5 92 9C 1C BC 8B 36 7D 42 09 BA E3 AC 00 AA 3A 2E AA FF D9 E0 5F BD 79 47 7E 7B D6 94 C1 6B 23 67 B6 D9 5D 69 C8 C1 BF 2F A3 A7 94 A0 0B 2E 8F 01 96 A2 FF FC 6E C1 B7 8C 37 56 A4 7E 7F 3E 7A FA 42 55 1B 45 EF 64 D5 71 59 80 20 B2 3F 3D 5A EA 1A FC 08 4A D0 1F 27 05 50 D5 D9 E8 B1 ED F3 2F 82 12 F4 C6 D5 33 C0 6E F4 E0 CB C1 6E FF 2D 43 28 41 77 9C 14 C0 18 63 A3 1E 0C F1 3F BC 59 4E FC 3E 4A 10 C7 ED 41 A0 48 30 CA 3F F8 27 F9 E0 9E 12 9C C5 59 01 C2 4B BA E0 1A 6F F7 E5 13 4A 90 12 A7 53 C1 C6 98 06 25 C8 86 F3 B5 00 4A 90 0D 2F 8A 41 94 20 3D DE 94 83 29 41 3A BC 9A 0F 40 09 2E 4F CF 62 50 50 6C 11 19 AF F6 EE F7 C4 26 07 EE D8 17 C7 E7 5F 48 FD F7 E4 B1 44 2B 20 C5 04 B0 93 2B 44 64 55 44 1E 94 B6 57 39 43 09 7A 73 46 80 20 F8 AA EF A2 C9 15 D7 27 BC 71 40 6E 3E 5E 96 6B 3F 27 9F 20 84 22 C1 79 01 EC 41 CE DB FA FA AF 4F 57 A5 56 77 B5 07 C8 87 73 12 DC 33 C6 6C 3B 7E 48 31 CE 0B 10 3C 99 78 F6 56 AE 4F CC 26 FD 0C AF D9 F9 7B 56 8E 77 D6 EC 21 AE 19 63 BC 6B 94 F6 55 40 38 E8 0B 60 F0 BF F3 E3 C3 85 E8 F1 83 CE 36 F2 85 B6 00 61 85 CD AB 7E 3F 0F EC 7C 03 3B EB 28 C4 5F 01 08 26 31 01 3E ED 79 37 CE C9 C4 D1 F6 6A E7 EC E2 64 B3 4F 1C 22 26 C0 D7 CF 1F E5 78 A7 E9 DB 71 A6 A6 63 C2 C9 5A D4 4D FA C4 79 01 82 6B 9E BD 57 0B 3C 13 84 97 81 F6 0A 40 07 06 5B 22 B2 90 E0 2D CE 11 4B 04 E9 C0 D0 BA 39 FD FF 96 7D 6E F3 01 43 7D 66 DC BA 84 CD F5 5F 26 AF 01 99 08 92 EF A9 E0 E5 68 DA B5 0F 30 15 DC 9B 7E C5 20 2B 82 AB 3F AE 64 31 28 21 DE AD 0F 10 A5 B3 85 C1 4F 84 57 79 00 06 FF F2 78 23 00 83 9F 0E 5F 16 88 60 F0 53 E2 BC 00 0C 7E 36 9C 16 80 C1 CF 8E B3 02 A8 EA 02 83 9F 1D 97 CF 00 41 6A D6 CE E4 65 F0 D3 E3 EA FA 00 36 A7 1B 14 E9 3B 26 6C 5C 08 83 1F C7 D5 33 40 3B A9 7F 25 61 7E 9F C1 EF 8E AB EB 03 B4 EB D5 B6 5E 7F 11 0C 7E 6F 5C 1E 03 04 11 B5 CB C1 7D FD 74 D4 73 23 06 BF 3F 2E 2F 13 D7 FE 0D 03 97 89 4B 8F 37 0B 45 0E 5E BD 11 0C 08 ED 24 CE D6 4E 53 F6 DF 2C 73 A1 C8 04 70 A9 58 70 7C 58 20 62 5B 8C B1 97 84 CF A3 85 A3 44 E4 63 30 46 30 A7 B7 19 FC FE F0 7E 01 E0 F0 77 01 E0 50 00 70 86 B2 1E 7E B8 6C 2B 7F 4C 58 0E CD CE A4 58 1A 32 0B 10 06 FF 2F 77 DA CC 3B 4A 17 20 60 7A 7A 5A 66 66 66 BC 6B DD 2A B2 BE BE 2E 1B 1B 1B B9 EC 59 6E 02 D8 E0 2F 2E 2E E6 F5 71 E4 02 F2 12 80 83 40 70 28 00 38 14 00 1C 0A 00 0E 05 00 87 02 80 43 01 C0 A1 00 E0 E4 96 08 4A CA E1 E1 A1 6C 6D 6D A1 B7 7B 8C C9 C9 49 19 1D 1D 2D FC 7B 0B 17 E0 E4 E4 44 F6 F7 F7 8B FE DA CA 63 DB A5 0C D8 05 80 53 F8 19 60 6C 6C 4C E6 E6 E6 D0 DB 3D 86 6D 97 32 28 5C 00 29 F1 60 49 1C 76 01 E0 50 00 70 28 00 38 14 00 1C 0A 00 0E 05 00 87 02 80 43 01 C0 A1 00 E0 B0 1A 58 11 58 0D 04 87 D5 40 52 0A AC 06 56 04 56 03 49 29 B0 0B 00 87 02 80 43 01 C0 A1 00 E0 50 00 70 28 00 38 14 00 1C 0A 00 0E 05 00 87 D5 C0 8A C0 6A 20 38 AC 06 92 52 28 FC 0C 60 4F 73 AC 06 C6 29 E3 F4 2F 65 08 50 AB D5 58 0D AC 10 EC 02 C0 A1 00 E0 50 00 70 28 00 38 14 00 1C 0A 00 0E 05 00 87 02 80 43 01 C0 29 3C 13 D8 6A B5 64 73 73 13 BD DD 63 4C 4D 4D C9 F0 F0 70 E1 DF 5B 8A 00 AC 06 C6 B1 ED 52 86 00 EC 02 C0 61 35 B0 22 B0 1A 48 4A 81 5D 00 38 14 00 1C 0A 00 0E 05 00 87 02 80 43 01 C0 A1 00 E0 E4 96 07 B0 F7 B4 27 C5 90 67 5B E7 26 80 BD 9F 7D 5E F7 B4 27 C5 91 87 00 4D C6 AB 34 32 B7 BD 1A 63 DC 3D 7C 92 19 0E 02 C1 A1 00 E0 50 00 70 28 00 38 14 00 1C 0A 00 0E 05 40 46 44 BE 01 82 D3 66 DC 90 94 7F 76 00 00 00 00 49 45 4E 44 AE 42 60 82'
	},
	Create = function( picture_data )
		local _stream = createStringStream()
		for x in picture_data:gmatch( '(%x%x)%s-' ) do
			_stream.writeByte( ('%d'):format( '0x' .. x ) )
		end
		_stream.Position = 0
		local _img = createPNG()
		_img.loadFromStream( _stream )
		return _img
	end,
	Add = function( LuaEditor )
		-- ? ADD PICTURE TO EDITOR IMAGES LIST
		local ImageList = LuaEditor.Menu.Images
		local Images = {}

		for _Pic, _ in pairs( this.Pictures.data ) do
			Images[_Pic] = ImageList.Count
			ImageList.add( this.Pictures[_Pic] )
		end
		-- Images.OnIndex = ImageList.Count
		-- ImageList.add( this.Pictures.ON )
		-- Images.OffIndex = ImageList.Count
		-- ImageList.add( this.Pictures.OFF )
		-- Images.SettingIndex = ImageList.Count
		-- ImageList.add( this.Pictures.SETTING )
		-- Images.Selection = ImageList.Count
		-- ImageList.add( this.Pictures.Selection )
		-- Images.MemoryBrowseIndex = ImageList.Count
		-- ImageList.add( this.Pictures.MemoryBrowse )
		-- Images.MemoryDisassembleIndex = ImageList.Count
		-- ImageList.add( this.Pictures.MemoryDisassemble )
		return Images
	end
}
-- ? CONSTRUCT PICTURES
for _Pic, _Data in pairs( this.Pictures.data ) do
	this.Pictures[_Pic] = this.Pictures.Create( _Data )
end

-- ! ###############################
-- ? FUNCTION TO COMMENT / UNCOMMENT
-- ! ###############################
this.Comment = function( LuaEditor, mode )

	local EmptyText = LuaEditor.SelText == ''
	local SelStart = math.min( LuaEditor.SelStart, LuaEditor.SelEnd )
	local SelEnd = math.max( LuaEditor.SelStart, LuaEditor.SelEnd )

	local LineBreak = LuaEditor.Lines.LineBreak -- ! '\r\n'

	local sLine = -1
	local eLine = -1
	local sNum = -1
	local eNum = -1
	local LineNum = 0
	for i = 0, LuaEditor.Lines.Count - 1 do
		LineNum = LineNum + LuaEditor.Lines[i]:len() + 2
		if SelStart <= LineNum and sLine == -1 then
			sLine = LineNum - LuaEditor.Lines[i]:len() - 1
			sNum = i
			if eLine > -1 then
				break
			end
		end
		if SelEnd <= LineNum and eLine == -1 then
			eLine = LineNum
			eNum = i
			if sLine > -1 then
				break
			end
		end
	end
	LuaEditor.SelStart = eLine
	LuaEditor.SelEnd = sLine

	if isKeyPressed( VK_SHIFT ) then
		if mode == 'inLine' then
			-- ! #################
			-- ? UNCOMMENT IN LINE
			-- ! #################
			local offset = 0
			local text = ''
			for i = sNum, eNum do
				offset = offset + 1
				text = text .. LuaEditor.Lines[i]:gsub( '^(%s*)%-%-[^%[]', '%1', 1 ) .. (i < eNum and LineBreak or '')
			end
			LuaEditor.SelText = text
			LuaEditor.SelStart = eLine - offset * LineBreak:len()

		elseif mode == 'inBlock' then
			-- ! ##################
			-- ? UNCOMMENT IN BLOCK
			-- ! ##################
			local commentEq = LuaEditor.SelText:match( '^.-%-%-%[(=+)%[.-%]%1%]' ) or ''
			if (LuaEditor.SelText:match( '^.-%-%-%[(=+)%[.-%]%1%]' ) == nil) then
				messageDialog( 'NO COMMENT BLOCK DETECTED???', mtInformation, mbOk )
				return
			end
			LuaEditor.SelText = LuaEditor.SelText:gsub( '^(.-)%-%-%[(=+)%[(.-)%]%2%]', '%1%3' )
			LuaEditor.SelStart = sLine
			LuaEditor.SelEnd = eLine - commentEq:len() * 2 - 6 - 1
		end
	else
		if mode == 'inLine' then
			-- ! ###############
			-- ? COMMENT IN LINE
			-- ! ###############
			local offset = 0
			local text = ''
			for i = sNum, eNum do
				offset = offset + 1
				text = text .. '--' .. LuaEditor.Lines[i] .. (i < eNum and LineBreak or '')
			end
			LuaEditor.SelText = text
			LuaEditor.SelStart = eLine + offset * LineBreak:len() + 1

		elseif mode == 'inBlock' then
			-- ! ################
			-- ? COMMENT IN BLOCK
			-- ! ################
			local CheckText = LuaEditor.SelText
			while not (CheckText:match( '%-%-%[(=+)%[.-%]%1%]' ) == nil) do
				CheckText = CheckText:gsub( '%-%-%[(=+)%[(.-)%]%1%]', '%2' )
			end
			if not (CheckText:match( '%-%-%[(=+)%[' ) == nil) or not (CheckText:match( '%](=+)%]' ) == nil) then
				if messageDialog( 'UNFINISHED COMMENT BLOCK DETECTED!!!', mtWarning, mbIgnore, mbAbort ) == mrAbort then
					return
				end
			end
			local commentEq = LuaEditor.SelText:match( '^.-%-%-%[(=+)%[' ) or ''
			commentEq = '=' .. commentEq
			local offset = 0
			LuaEditor.SelText = '--[' .. commentEq .. '[' .. LuaEditor.SelText .. ']' .. commentEq .. ']'
			LuaEditor.SelStart = eLine + commentEq:len() * 2 + 6 + 1
		end
	end
end

-- ! ###############################
-- ? FUNCTION TO AUTO CLOSE BRACKETS
-- ! ###############################
-- ? AUTO CLOSE BRACKETS LIST (Select: is to restore selection after auto close brackets)
this.AutoClose = {
	List = {
		{
			key = '()',
			Select = false
		},
		{
			key = '[]',
			Select = true
		},
		{
			key = '{}',
			Select = false
		},
		{
			key = '""',
			Select = false
		},
		{
			key = "''",
			Select = false
		}
	},
	Used = false
}
-- ? AUTO CLOSE BRACKETS PATTERN
this.AutoClose.Pattern = '^[' .. (function()
	local s = ''
	for _, v in pairs( this.AutoClose.List ) do
		s = s .. v.key:match( '^.' )
	end
	return s
end)() .. ']'
-- ? AUTO CLOSE BRACKETS FUNCTION
this.AutoClose.Do = function( LuaEditor, key )
	local AutoCloseKey = {}
	for _, _Key in pairs( this.AutoClose.List ) do
		if tostring( key ) == _Key.key:match( '^.' ) then
			AutoCloseKey = _Key
			break
		end
	end
	local SelStart = math.min( LuaEditor.SelStart, LuaEditor.SelEnd )
	local SelEnd = math.max( LuaEditor.SelStart, LuaEditor.SelEnd )
	this.AutoClose.Used = false
	if LuaEditor.SelText == '' then
		this.AutoClose.Used = true
	end
	LuaEditor.SelText = (AutoCloseKey.key:match( '^.' ) .. '%s' .. AutoCloseKey.key:match( '.$' )):format( LuaEditor.SelText )
	LuaEditor.SelStart = SelStart + 1
	-- ? RESTORE THE SELECTION
	if AutoCloseKey.Select then
		LuaEditor.SelEnd = SelEnd + 1
	else
		LuaEditor.SelStart = SelEnd + 1
	end
end

-- ! #############################################################
-- ? ADD "AUTO CLOSE BRACKETS" AND "COMMENT / UNCOMMENT" TO EDITOR
-- ! #############################################################
this.EditorOnKeyPress = function( LuaEditor )

	-- ? FUNCTION FOR "AUTO CLOSE BRACKETS" AND "COMMENT / UNCOMMENT"
	local old_OnKeyPress = LuaEditor.OnKeyPress
	LuaEditor.OnKeyPress = function( sender, key )
		-- printf( 'Press: %X', string.byte( key ) )
		if string.byte( key ) == 0x11 and this.getSettings( this.Features.Comments.Name ) then -- ! 0x11 CONTROL + Q
			this.Comment( LuaEditor, 'inLine' )
		elseif string.byte( key ) == 0x17 and this.getSettings( this.Features.Comments.Name ) then -- ! 0x17 CONTROL + W
			this.Comment( LuaEditor, 'inBlock' )
		elseif tostring( key ):match( this.AutoClose.Pattern ) and this.getSettings( this.Features.AutoClose.Name ) then
			this.AutoClose.Do( LuaEditor, key )
		elseif old_OnKeyPress then
			return old_OnKeyPress( sender, key )
		else
			return key
		end
	end

	-- ? FUNCTION TO UNDO "AUTO CLOSE BRACKETS"
	local old_OnKeyDown = LuaEditor.OnKeyDown
	LuaEditor.OnKeyDown = function( sender, key )
		if string.byte( key ) == 0x38 and this.AutoClose.Used then -- ! 0x38 backspace
			doKeyPress( VK_DELETE )
		end
		this.AutoClose.Used = false
		if old_OnKeyDown then
			return old_OnKeyDown( sender, key )
		else
			return key
		end
	end
	-- ? FUNCTION TO UNDO "AUTO CLOSE BRACKETS"
	local old_OnMouseDown = LuaEditor.OnMouseDown
	LuaEditor.OnMouseDown = function( sender, button, x, y )
		this.AutoClose.Used = false
		if old_OnMouseDown then
			return old_OnMouseDown( sender, button, x, y )
		end
	end
end

-- ! ##########################
-- ? FUNCTION TO ZOOM FONT SIZE
-- ! ##########################
this.Font = {
	-- ! SAVE FONT SIZE
	Save = function( LuaEditor, Settings )
		Settings.Value[(LuaEditor.owner.Name:match( this.AutoInjectName ) and '' or LuaEditor.Name .. '.') .. 'Font.size'] = LuaEditor.Font.Size
	end,
	-- ! LOAD FONT SIZE
	Load = function( LuaEditor, Settings, value )
		if Settings.Value[(LuaEditor.owner.Name:match( this.AutoInjectName ) and '' or LuaEditor.Name .. '.') .. 'Font.size'] == '' then
			Settings.Value[(LuaEditor.owner.Name:match( this.AutoInjectName ) and '' or LuaEditor.Name .. '.') .. 'Font.size'] = value
		end
		LuaEditor.Font.Size = Settings.Value[(LuaEditor.owner.Name:match( this.AutoInjectName ) and '' or LuaEditor.Name .. '.') .. 'Font.size']
	end,
	-- ! ADD ZOOM FUNCTION TO EDITOR
	addZoom = function( LuaEditor, Settings )
		-- ? INCREASE FONT SIZE
		local old_OnMouseWheelUp = LuaEditor.OnMouseWheelUp
		LuaEditor.OnMouseWheelUp = function( sender, x, y )
			if this.getSettings( this.Features.Zoom.Name ) then
				if isKeyPressed( VK_CONTROL ) then
					if sender.Font.Size < 50 then
						sender.Font.Size = sender.Font.Size + 1
						this.Font.Save( LuaEditor, Settings )
					end
				end
			end
			if old_OnMouseWheelUp then
				return old_OnMouseWheelUp( sender, x, y )
			end
		end

		-- ? DECREASE FONT SIZE
		local old_OnMouseWheelDown = LuaEditor.OnMouseWheelDown
		LuaEditor.OnMouseWheelDown = function( sender, x, y )
			if this.getSettings( this.Features.Zoom.Name ) then
				if isKeyPressed( VK_CONTROL ) then
					if sender.Font.Size > 1 then
						sender.Font.Size = sender.Font.Size - 1
						this.Font.Save( LuaEditor, Settings )
					end
				end
			end
			if old_OnMouseWheelDown then
				return old_OnMouseWheelDown( sender, x, y )
			end
		end
	end
}

-- ! ##########################
-- ? FUNCTION TO USE TAB INDENT
-- ! ##########################
this.TabIndent = function( LuaEditor )
	if this.getSettings( this.Features.TabIndent.Name ) then
		LuaEditor.TabWidth = 4
		LuaEditor.BlockTabIndent = 1
		LuaEditor.BlockIndent = 0
		LuaEditor.Beautifier.IndentType = 'sbitConvertToTabOnly'
		LuaEditor.Options = LuaEditor.Options:gsub( 'eoSmartTabs', '' ):gsub( 'eoTabsToSpaces', '' ):gsub( ',,', ',' )
	else
		LuaEditor.TabWidth = 8
		LuaEditor.BlockTabIndent = 0
		LuaEditor.BlockIndent = 2
		LuaEditor.Beautifier.IndentType = 'sbitSpace'
		LuaEditor.Options = '[' .. LuaEditor.Options:match( '%[(.*)%]' ) .. ',eoSmartTabs,eoTabsToSpaces]'
	end
end

-- ! #############################################
-- ? FUNCTION TO KEEP SPACE AT THE END OF THE LINE
-- ! #############################################
this.KeepSpace = function( LuaEditor )
	if this.getSettings( this.Features.KeepSpace.Name ) then
		LuaEditor.Options = LuaEditor.Options:gsub( 'eoTrimTrailingSpaces', '' ):gsub( ',,', ',' )
	else
		LuaEditor.Options = '[' .. LuaEditor.Options:match( '%[(.*)%]' ) .. ',eoTrimTrailingSpaces]'
	end
end

-- ! #############################
-- ? FUNCTION TO ADD EXTRA OPTIONS
-- ! #############################
this.EditorOptions = function( LuaEditor )
	-- ? HIGHLIGHT GROUPS WITH RED BOX BRACKETS AND BLOCKS
	LuaEditor.BracketMatchColor.FrameColor = clRed

	-- ? ADD THESE OPTIONS TO LUA EDITOR
	-- * eoScrollPastEof : scroll more at the end of the last line
	-- * eoEnhanceHomeKey : make Home button stop at the indent
	-- * eoAltSetsColumnMode : Only for compatibility, moved to TSynEditorMouseOptions, keep in one block, Allows to activate "column" selection mode, if <Alt> key is pressed and text is being selected with mouse
	-- * eoDragDropEditing : Allows to drag-and-drop text blocks within the control
	LuaEditor.Options = '[' .. LuaEditor.Options:match( '%[(.*)%]' ) .. ',eoScrollPastEof,eoEnhanceHomeKey,eoAltSetsColumnMode,eoBracketHighlight,eoDragDropEditing]'
end

-- ! #####################
-- ? CHANGE SELECTION MODE
-- ! #####################
-- ? WITH KEY SHORTCUTS CTRL+SHIFT+ (N: FOR NORMAL | C: FOR COLUMN | L: FOR LINE)
this.SelectionMode = function( SelectionMode )
	local Editor = nil
	if not (getForm( 0 ).Name:match( this.LuaEngineName ) == nil) then
		Editor = getForm( 0 ).ComponentByName['mScript']
	elseif not (getForm( 0 ).Name:match( this.AutoInjectName ) == nil) then
		Editor = getForm( 0 ).ComponentByName['Assemblescreen']
	end
	if Editor then
		getForm( 0 ).ActiveControl = Editor
		sleep( 100 )
		local SelectionMode = SelectionMode or VK_N
		keyDown( VK_CONTROL )
		keyDown( VK_SHIFT )
		doKeyPress( SelectionMode ) -- VK_C=67 VK_N=78 VK_L=76
		sleep( 50 )
		keyUp( VK_SHIFT )
		keyUp( VK_CONTROL )
	end
end

-- ! ##################
-- ? AUTO BACKUP SCRIPT
-- ! ##################
this.AutoBackup = {
	form = [[local a=createForm(getForm(0))a.Name='AutoBackupForm'a.Caption='Script Auto Backup Settings:'a.AutoSize=true;a.Constraints.MinWidth=675;
	a.Constraints.MinHeight=280;a.Width=675;a.BorderStyle=bsSizeable;a.BorderIcons='[biSystemMenu]'a.FormStyle='fsSystemStayOnTop'a.ShowInTaskBar='stAlways'
	a.Position='poDesktopCenter'a.Scaled=false;a.DoNotSaveInTable=true;a.UseDockManager=false;a.HorzScrollBar.Visible=false;a.VertScrollBar.Visible=false;
	local b=createGroupBox(a)b.Caption='Auto backup directory :'b.Name='gbDir'b.Align=alTop;b.AutoSize=true;b.BorderSpacing.Around=10;local c=createEdit(b)
	c.Name='eDir'c.Text=''c.AutoSize=false;c.Align=alClient;c.BorderSpacing.Around=5;c.Constraints.MinHeight=30;c.Constraints.MaxHeight=30;local d=createButton(b)
	d.Name='bBrows'd.Caption='BROWS'd.AutoSize=false;d.Align=alRight;d.BorderSpacing.Around=5;d.Constraints.MinHeight=30;d.Constraints.MaxHeight=30;
	d.Constraints.MaxWidth=120;d.Constraints.MinWidth=120;local e=createSelectDirectoryDialog(a)e.Name='cSelectDir'
	e.Options='[ofHideReadOnly,ofPathMustExist,ofEnableSizing,ofDontAddToRecent,ofViewDetail]'local f=createGroupBox(a)f.Caption='Time & conditions :'f.Name='gbTime'
	f.AutoSize=true;f.Align=alTop;f.Top=b.Top+b.Height;f.BorderSpacing.Around=10;local g=createCheckBox(f)g.Caption='Backup On Open'g.Name='cbSaveOnOpen'g.AutoSize=true;
	g.BorderSpacing.Around=10;g.Constraints.MaxHeight=25;g.AnchorSideTop.Control=f;g.AnchorSideLeft.Control=f;local h=createCheckBox(f)h.Caption='Backup On Close'
	h.Name='cbSaveOnClose'h.AutoSize=true;h.BorderSpacing.Around=10;h.Constraints.MaxHeight=25;h.AnchorSideTop.Control=g;h.AnchorSideTop.Side=asrBottom;
	h.AnchorSideLeft.Control=f;local i=createCheckBox(f)i.Caption='Backup Before Execute'i.Name='cbSaveOnExecute'i.AutoSize=true;i.BorderSpacing.Around=10;
	i.Constraints.MaxHeight=25;i.AnchorSideTop.Control=h;i.AnchorSideTop.Side=asrBottom;i.AnchorSideLeft.Control=f;local j=createGroupBox(f)j.Name='gbTiming'
	j.Caption='Backup Script every :'j.AutoSize=true;j.Align=alRight;j.Top=g.Top;j.BorderSpacing.Around=5;j.BorderSpacing.Top=-10;j.Anchors='[akLeft]'
	j.AnchorSideLeft.Control=i;j.AnchorSideLeft.Side=asrRight;local k=createEdit(j)k.Name='eTime'k.Text=20;k.Alignment='taCenter'k.AutoSize=false;k.BorderSpacing.Around=10;
	k.Constraints.MinHeight=30;k.Constraints.MaxHeight=30;k.Constraints.MaxWidth=100;k.Constraints.MinWidth=100;k.NumbersOnly=true;k.MaxLength=2;k.Anchors='[akTop,akLeft]'
	k.AnchorSideTop.Control=j;k.AnchorSideTop.Side=asrCenter;k.AnchorSideLeft.Control=j;k.AnchorSideLeft.Side=asrLeft;local l=createComponentClass('TRadioButton',j)
	l.Parent=j;l.Caption='Min'l.Name='rbMin'l.AutoSize=false;l.Constraints.MaxWidth=60;l.Constraints.MinWidth=60;l.Constraints.MaxHeight=25;l.BorderSpacing.Around=10;
	l.Anchors='[akTop,akRight]'l.AnchorSideTop.Control=j;l.AnchorSideTop.Side=asrCenter;l.AnchorSideRight.Control=j;l.AnchorSideRight.Side=asrRight;local m=createComponentClass('TRadioButton',j)
	m.Parent=j;m.Caption='Sec'm.Name='rbSec'm.AutoSize=false;m.Constraints.MaxWidth=60;m.Constraints.MinWidth=60;m.Constraints.MaxHeight=25;m.BorderSpacing.Around=10;m.Checked=true;
	m.Anchors='[akTop,akRight]'m.AnchorSideTop.Control=j;m.AnchorSideTop.Side=asrCenter;m.AnchorSideRight.Control=l;m.AnchorSideRight.Side=asrLeft;local n=createTrackBar(j)
	n.BorderSpacing.Around=10;n.Name='cTimeBar'n.Min=0;n.Max=60;n.Position=k.Text;n.Anchors='[akTop,akRight,akLeft]'n.AnchorSideTop.Control=j;n.AnchorSideTop.Side=asrCenter;
	n.AnchorSideLeft.Control=k;n.AnchorSideLeft.Side=asrRight;n.AnchorSideRight.Control=m;n.AnchorSideRight.Side=asrLeft;local o=createCheckBox(a)o.Caption='Enabled / Disable Auto Backup'
	o.Name='cbAutoBackup'o.Checked=true;o.Align=alLeft;o.BorderSpacing.Around=10;o.Constraints.MaxHeight=25;local p=createButton(a)p.Caption='Close'p.Name='bClose'p.Align=alRight;
	p.BorderSpacing.Around=10;p.Constraints.MaxHeight=30;p.Constraints.MinWidth=150;p.Constraints.MaxWidth=150;local q=createButton(a)q.Caption='Open Backup Directory'q.Name='bOpenDir'
	q.Align=alRight;q.BorderSpacing.Around=10;q.Constraints.MinWidth=200;q.Constraints.MaxHeight=30;q.Anchors='[akTop,akRight,akLeft]'q.AnchorSideLeft.Control=o;q.AnchorSideLeft.Side=asrRight;
	a.Constraints.MaxHeight=a.Height;a.Constraints.MinHeight=a.Height;return a]],
	FormOpen = this.setSettings( this.Features.AutoBackup.Name .. 'FormOpen', false ),
	Save = {
		OnOpen = this.getSettings( this.Features.AutoBackup.Name .. 'OnOpen', false ),
		OnClose = this.getSettings( this.Features.AutoBackup.Name .. 'OnClose', false ),
		OnExecute = this.getSettings( this.Features.AutoBackup.Name .. 'OnExecute', false ),
		Time = this.getSettings( this.Features.AutoBackup.Name .. 'Time', 0 ), -- == true and this.setSettings( this.Features.AutoBackup.Name .. 'Time', 0 ) or this.getSettings( this.Features.AutoBackup.Name .. 'Time' ),
		TimeU = this.getSettings( this.Features.AutoBackup.Name .. 'TimeU', 1 ), -- == true and this.setSettings( this.Features.AutoBackup.Name .. 'TimeU', 1 ) or this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ),
		OnTime = this.setSettings( this.Features.AutoBackup.Name .. 'OnTime', this.getSettings( this.Features.AutoBackup.Name .. 'Time' ) ~= '0' and true or false ),
		Directory = this.getSettings( this.Features.AutoBackup.Name .. 'Directory', os.getenv( 'temp' ) ) -- == true and this.setSettings( this.Features.AutoBackup.Name .. 'Directory', os.getenv( 'temp' ) ) or this.getSettings( this.Features.AutoBackup.Name .. 'Directory' )
	},
	Backup = function( LuaEditor, type )
		if this.getSettings( this.Features.AutoBackup.Name ) and this.getSettings( this.Features.AutoBackup.Name .. type ) then
			local filePath = this.getSettings( this.Features.AutoBackup.Name .. 'Directory' ):gsub( '\\$', '', 1 ) .. '\\' .. LuaEditor.Parent.Owner.Caption:gsub( '*', '' ):gsub( ':', '' ):gsub( '?', '' ):gsub( '/', '' ):gsub( '\\', '' ):gsub( '|', '' ):gsub( '"', '' ):gsub( '<', '' ):gsub( '>', '' ) .. '-' .. stringToMD5String( LuaEditor.Lines.getText() ) .. '.txt'
			if not fileExists( filePath ) then
				if (LuaEditor.Lines.getText()):gsub( '\n', '' ):gsub( '\r', '' ):gsub( '\t', '' ):gsub( '%s*', '' ) ~= '' then
					local state = LuaEditor.Lines.saveToFile( filePath )
					if state == false then
						os.execute( 'mkdir "' .. this.getSettings( this.Features.AutoBackup.Name .. 'Directory' ):gsub( '\\$', '', 1 ) .. '"' )
						LuaEditor.Lines.saveToFile( filePath )
					end
				end
			end
		end
	end,
	-- ? AUTO BACKUP EVERY X TIME
	BackupTimer = (function()
		local timer = createTimer( nil, false )
		timer.OnTimer = function()
			local Editor = nil
			local Form = nil
			for i = 0, getFormCount() - 1 do
				if not (getForm( i ).Name:match( this.LuaEngineName ) == nil) or not (getForm( i ).Name:match( this.AutoInjectName ) == nil) then
					Form = getForm( i )
					if Form.Visible then
						if not (Form.Name:match( this.LuaEngineName ) == nil) then
							Editor = Form.ComponentByName['mScript']
						elseif not (Form.Name:match( this.AutoInjectName ) == nil) then
							Editor = Form.ComponentByName['Assemblescreen']
						end
						if Editor then
							this.AutoBackup.Backup( Editor, 'OnTime' )
						end
					end
				end
			end
		end
		timer.Interval = tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'Time' ) ) * tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ) ) * 1000
		timer.Enabled = this.getSettings( this.Features.AutoBackup.Name .. 'OnTime', false )
		return timer
	end)()
}

-- ! #######################
-- ? CREATE ENHANCEMENT MENU
-- ! #######################
this.CreateMenu = function( LuaEditor, Images )

	-- ! #########
	-- ? EDIT MENU
	-- ! #########
	--[[TODO List
	Add Edit Menu
		Add Undo & Redo
		Add COMMENT / UNCOMMENT
		Add change case
			Upper / Lower / proper
		Add Conver
			Hxd to Dec
			Dec to Hxd
	--;]]
	-- ! ################
	-- ? ENHANCEMENT MENU
	-- ! ################
	this.ToggleMenuItem = function( sender, Feature )
		this.Features[Feature.Name].Enabled = not Feature.Enabled
		this.setSettings( Feature.Name, this.Features[Feature.Name].Enabled )
	end

	local miEnhancement = this.addMenuItem( LuaEditor.Menu.Items, '&Enhancement', 'miEnhancement', function( sender )
		for item = 0, sender.Count - 1 do
			if sender.Item[item].name:match( 'miEnhancement' ) then
				sender.Item[item].ImageIndex = this.getSettings( sender.Item[item].name:match( 'miEnhancement(.+)$' ) ) and Images.ON or Images.OFF
			end
		end
	end )

	local miSelectionMode = this.addMenuItem( miEnhancement, 'Selection Mode', 'miSelectionMode', nil, nil, nil, Images.Selection )
	this.addMenuItem( miSelectionMode, 'NORMAL        (Ctrl+Shift+N)', 'miSelectionModeNormal', function( sender )
		createThread( this.SelectionMode( VK_N ) )
	end )
	this.addMenuItem( miSelectionMode, 'COLUMN       (Ctrl+Shift+N)', 'miSelectionModeColumn', function( sender )
		createThread( this.SelectionMode( VK_C ) )
	end )
	this.addMenuItem( miSelectionMode, 'LINE               (Ctrl+Shift+N)', 'miSelectionModeLine', function( sender )
		createThread( this.SelectionMode( VK_L ) )
	end )
	local miSelectionMultiType = this.addMenuItem( miSelectionMode, 'Multi Type      (Ctrl+Shift+Click)', 'miSelectionMultiType' )
	miSelectionMultiType.Enabled = false
	local miSelectionColumn = this.addMenuItem( miSelectionMode, 'Column Select      (Alt+Select)', 'miSelectionColumn' )
	miSelectionColumn.Enabled = false
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.Zoom
	this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhancement' .. _Feature.Name, function( sender )
		this.ToggleMenuItem( sender, _Feature )
	end )
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.AutoClose
	this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhancement' .. _Feature.Name, function( sender )
		this.ToggleMenuItem( sender, _Feature )
	end )
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.Comments
	this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhancement' .. _Feature.Name, function( sender )
		this.ToggleMenuItem( sender, _Feature )
	end )
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.TabIndent
	this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhancement' .. _Feature.Name, function( sender )
		this.ToggleMenuItem( sender, _Feature )
		for i = 0, getFormCount() - 1 do
			if getForm( i ).Name:match( this.LuaEngineName ) then
				this.TabIndent( getForm( i ).ComponentByName['mScript'] )
			elseif getForm( i ).Name:match( this.AutoInjectName ) then
				this.TabIndent( getForm( i ).ComponentByName['Assemblescreen'] )
			end
		end
	end )
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.KeepSpace
	this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhancement' .. _Feature.Name, function( sender )
		this.ToggleMenuItem( sender, _Feature )
		for i = 0, getFormCount() - 1 do
			if not (getForm( i ).Name:match( this.LuaEngineName ) == nil) then
				this.KeepSpace( getForm( i ).ComponentByName['mScript'] )
			elseif not (getForm( i ).Name:match( this.AutoInjectName ) == nil) then
				this.KeepSpace( getForm( i ).ComponentByName['Assemblescreen'] )
			end
		end
	end )
	this.addMenuItem( miEnhancement, '-' )

	local _Feature = this.Features.AutoBackup
	local miAutoBackup = this.addMenuItem( miEnhancement, _Feature.Title, 'miEnhance_' .. _Feature.Name, function( sender )
		if not this.getSettings( this.Features.AutoBackup.Name .. 'FormOpen' ) then
			local frm = load( this.AutoBackup.form )()
			this.setSettings( this.Features.AutoBackup.Name .. 'FormOpen', true )

			-- ! FORM ON CLOSE
			frm.OnClose = function( sender )
				this.setSettings( this.Features.AutoBackup.Name .. 'FormOpen', false )
				return caFree
			end
			frm.bClose.OnClick = frm.Close

			-- ! BROWS BUTTON
			frm.gbDir.bBrows.OnClick = function( sender )
				if frm.cSelectDir.execute() then
					frm.gbDir.eDir.Text = frm.cSelectDir.FileName
					frm.gbDir.eDir.Text = this.setSettings( this.Features.AutoBackup.Name .. 'Directory', frm.cSelectDir.FileName )
				end
			end

			-- ! OPEN SAVE DIRECTORY BUTTON
			frm.bOpenDir.OnClick = function( sender )
				shellExecute( frm.gbDir.eDir.Text )
			end

			-- ! AUTO BACKUP CHECK BOX
			frm.cbAutoBackup.OnChange = function( sender )
				frm.gbDir.Enabled = sender.Checked
				frm.gbTime.Enabled = sender.Checked
				frm.cbAutoBackup.Checked = this.setSettings( this.Features.AutoBackup.Name, sender.Checked )
			end

			-- ! SAVE ON OPEN CHECK BOX
			frm.gbTime.cbSaveOnOpen.OnChange = function( sender )
				this.setSettings( this.Features.AutoBackup.Name .. 'OnOpen', sender.Checked )
			end
			-- ! SAVE ON CLOSE CHECK BOX
			frm.gbTime.cbSaveOnClose.OnChange = function( sender )
				this.setSettings( this.Features.AutoBackup.Name .. 'OnClose', sender.Checked )
			end
			-- ! SAVE ON EXECUTE CHECK BOX
			frm.gbTime.cbSaveOnExecute.OnChange = function( sender )
				this.setSettings( this.Features.AutoBackup.Name .. 'OnExecute', sender.Checked )
			end

			-- ! CHANGE TIME UNIT
			frm.gbTime.gbTiming.rbSec.OnChange = function( sender )
				if frm.gbTime.gbTiming.rbSec.State == 1 then
					this.setSettings( this.Features.AutoBackup.Name .. 'TimeU', 1 )
				else
					this.setSettings( this.Features.AutoBackup.Name .. 'TimeU', 60 )
				end
				this.AutoBackup.BackupTimer.Interval = tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'Time' ) ) * tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ) ) * 1000
			end

			-- ! TIME BAR
			frm.gbTime.gbTiming.cTimeBar.OnChange = function( sender )
				frm.gbTime.gbTiming.eTime.Text = frm.gbTime.gbTiming.cTimeBar.Position > 0 and frm.gbTime.gbTiming.cTimeBar.Position or 'NA'
				this.setSettings( this.Features.AutoBackup.Name .. 'Time', frm.gbTime.gbTiming.cTimeBar.Position )
				this.AutoBackup.BackupTimer.Enabled = this.setSettings( this.Features.AutoBackup.Name .. 'OnTime', this.getSettings( this.Features.AutoBackup.Name .. 'Time' ) ~= '0' and true or false )
				this.AutoBackup.BackupTimer.Interval = tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'Time' ) ) * tonumber( this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ) ) * 1000
			end

			-- ! TIME BOX
			frm.gbTime.gbTiming.eTime.OnChange = function( sender )
				if frm.gbTime.gbTiming.eTime.Text:match( '%d+' ) then
					if tonumber( frm.gbTime.gbTiming.eTime.Text ) < 1 then
						frm.gbTime.gbTiming.eTime.Text = 'NA'
						frm.gbTime.gbTiming.cTimeBar.Position = 0
					elseif tonumber( frm.gbTime.gbTiming.eTime.Text ) > 60 then
						frm.gbTime.gbTiming.eTime.Text = 60
						frm.gbTime.gbTiming.cTimeBar.Position = 60
					else
						frm.gbTime.gbTiming.cTimeBar.Position = frm.gbTime.gbTiming.eTime.Text
					end
				end
			end

			frm.cbAutoBackup.Checked = this.getSettings( this.Features.AutoBackup.Name )
			frm.gbTime.gbTiming.rbSec.State = this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ) == '1' and 1 or 0
			frm.gbTime.gbTiming.rbMin.State = this.getSettings( this.Features.AutoBackup.Name .. 'TimeU' ) == '60' and 1 or 0
			frm.gbDir.eDir.Text = this.getSettings( this.Features.AutoBackup.Name .. 'Directory' )
			frm.gbTime.gbTiming.cTimeBar.Position = this.getSettings( this.Features.AutoBackup.Name .. 'Time' )
			frm.gbTime.cbSaveOnOpen.Checked = this.getSettings( this.Features.AutoBackup.Name .. 'OnOpen' )
			frm.gbTime.cbSaveOnClose.Checked = this.getSettings( this.Features.AutoBackup.Name .. 'OnClose' )
			frm.gbTime.cbSaveOnExecute.Checked = this.getSettings( this.Features.AutoBackup.Name .. 'OnExecute' )

		end
	end, nil, nil, Images.SETTING )
	this.addMenuItem( miEnhancement, '-' )
end

-- ! ########################
-- ? CREATE MEMORY POPUP MENU
-- ! ########################
this.MemoryPopup = function( LuaEditor, Images )
	-- ? GET LUA EDITOR POPUP MENU
	local pmLuaEditor = LuaEditor.PopupMenu.Items

	this.addMenuItem( pmLuaEditor, '-', 'miBrowseMemorySeparator' )
	-- ? ADD MENU BROWSE THIS MEMORY REGION LUA EDITOR
	this.addMenuItem( pmLuaEditor, 'Browse this memory region', 'miBrowseMemory', function( sender )
		if LuaEditor.SelText ~= '' then
			local Address = getAddressSafe( LuaEditor.SelText )
			if Address ~= nil and Address ~= 0 then
				local MemoryView = getMemoryViewForm()
				MemoryView.HexadecimalView.TopAddress = Address
				MemoryView.HexadecimalView.SelectionStart = Address
				MemoryView.HexadecimalView.SelectionStop = Address
				if not MemoryView.Visible then
					MemoryView.Show()
				end
				MemoryView.bringToFront()
			end
		end
	end, nil, nil, Images.MemoryBrowse )
	-- ? ADD MENU DISASSEMBLE THIS MEMORY REGION LUA EDITOR
	this.addMenuItem( pmLuaEditor, 'Disassemble this memory region', 'miDisassembleMemory', function( sender )
		if LuaEditor.SelText ~= '' then
			local Address = getAddressSafe( LuaEditor.SelText )
			if Address ~= nil and Address ~= 0 then
				local MemoryView = getMemoryViewForm()
				MemoryView.DisassemblerView.TopAddress = Address
				MemoryView.DisassemblerView.SelectionStart = Address
				MemoryView.DisassemblerView.SelectionStop = Address
				if not MemoryView.Visible then
					MemoryView.Show()
				end
				MemoryView.bringToFront()
			end
		end
	end, nil, nil, Images.MemoryDisassemble )

	local old_OnContextPopup = LuaEditor.OnContextPopup
	LuaEditor.OnContextPopup = function( sender )
		local state = false
		if sender.SelText ~= '' then
			state = getAddressSafe( sender.SelText ) ~= nil and true or false
		end
		local pmLuaEditor = sender.getPopupMenu().Items
		pmLuaEditor.miBrowseMemorySeparator.Visible = state
		pmLuaEditor.miBrowseMemory.Visible = state
		pmLuaEditor.miDisassembleMemory.Visible = state
		if old_OnContextPopup then
			old_OnContextPopup()
		end
	end
end

-- ! ####################################
-- ? ADD ENHANCEMENT TO LUA ENGINE EDITOR
-- ! ####################################
this.LuaEngine_Enhancement = function()

	-- ? GET LUA ENGINE EDITOR
	local LuaEngine = nil
	if not (getLuaEngine().Menu.Items.miEnhancement) then
		LuaEngine = getLuaEngine()
	else
		LuaEngine = this.findForm( this.LuaEngineName )
		if not LuaEngine then
			return
		end
	end

	-- ? GET SAVE PATH
	local CE_Settings = getSettings( 'Lua Engine' )

	-- ? GET CONTROLS
	local mnLuaScript = LuaEngine.ComponentByName['mScript']
	local mnLuaOutput = LuaEngine.ComponentByName['mOutput']

	-- ? ADD PICTURE TO EDITOR IMAGES LIST
	local Images = this.Pictures.Add( LuaEngine )

	-- ? ADD ENHANCEMENT MENU TO LUA ENGINE
	this.CreateMenu( LuaEngine, Images )

	-- ? ADD ENHANCEMENT TO NEW LUA ENGINE EDITOR
	local old_MenuItem11 = LuaEngine.ComponentByName['MenuItem11'].OnClick
	LuaEngine.ComponentByName['MenuItem11'].OnClick = function( sender )
		old_MenuItem11( sender )
		this.runWaitFor( this.LuaEngine_Enhancement, this.LuaEngineName )
	end

	-- ? SET SAVED FONT SIZE WHEN LUA ENGINE SHOW
	local old_OnShow = LuaEngine.OnShow
	LuaEngine.OnShow = function( sender )
		old_OnShow( sender )
		this.Font.Load( mnLuaScript, CE_Settings, 12 )
		this.Font.Load( mnLuaOutput, CE_Settings, 12 )
		this.AutoBackup.Backup( mnLuaScript, 'OnOpen' )
	end

	-- ? BACKUP WHEN LUA ENGINE CLOSE
	local old_OnClose = LuaEngine.OnClose
	LuaEngine.OnClose = function( sender, option )
		this.AutoBackup.Backup( mnLuaScript, 'OnClose' )
		if old_OnClose then
			return old_OnClose( sender )
		else
			return option
		end
	end

	-- ? BACKUP WHEN LUA ENGINE EXECUTE SCRIPT
	local old_btnExecute_OnClick = LuaEngine.ComponentByName['btnExecute'].OnClick
	LuaEngine.ComponentByName['btnExecute'].OnClick = function( sender )
		this.AutoBackup.Backup( mnLuaScript, 'OnExecute' )
		if LuaEngine.clearCheckBox and LuaEngine.clearCheckBox.Checked then
			mnLuaOutput.Lines.setText( '' )
		end
		if old_btnExecute_OnClick then
			old_btnExecute_OnClick( sender )
		end
	end

	-- ? ADD "AUTO CLOSE BRACKETS" AND "COMMENT / UNCOMMENT"
	this.EditorOnKeyPress( mnLuaScript )
	-- ? SCRIPT INCREASE/DECREASE FONT SIZE
	this.Font.addZoom( mnLuaScript, CE_Settings )
	-- ? OUTPUT INCREASE/DECREASE FONT SIZE
	this.Font.addZoom( mnLuaOutput, CE_Settings )

	-- ? SET INITIAL TEXT
	mnLuaScript.Lines.setText( (mnLuaScript.Lines.LineBreak):rep( 2 ) )
	-- ? LOAD SAVED FONT SIZE
	this.Font.Load( mnLuaScript, CE_Settings, 12 )
	this.Font.Load( mnLuaOutput, CE_Settings, 12 )

	-- ? MAKE INDENT USE TAB NOT SPACES
	this.TabIndent( mnLuaScript )

	-- ? KEEP SPACES AT END OF THE LINES
	this.KeepSpace( mnLuaScript )

	-- ? ADD EXTRA OPTIONS
	this.EditorOptions( mnLuaScript )

	-- ? MAKE VIEW MENU VISIBLE IN NEW LUA ENGINE
	LuaEngine.miView.Visible = true

	-- ? ADD MEMORY POPUP MENU
	if this.getSettings( this.Features.AddMemoryPopup.Name ) then
		this.MemoryPopup( mnLuaScript, Images )
	end

	-- ? ADD POPUP MENU CLEAR LUA ENGINE OUTPUT
	if this.getSettings( this.Features.AddLuaEngine_CLEAR_Popup.Name ) then
		-- ? GET LUA ENGINE POPUP MENU
		local pmluaEngine = mnLuaScript.PopupMenu.Items

		this.addMenuItem( pmluaEngine, '-' )
		this.addMenuItem( pmluaEngine, this.Features.AddLuaEngine_CLEAR_Popup.Title, 'miClearOutput', function()
			mnLuaOutput.Lines.setText( '' )
		end, nil, nil, LuaEngine.ComponentByName['MenuItem5'].ImageIndex )
	end

	-- ? ADD CLEAR CHECK BOX TO CLEAR OUTPUT BEFORE EXECUTE
	if this.getSettings( this.Features.AddLuaEngine_CLEAR_Checkbox.Name ) then
		local clearCheckBox = createCheckBox( LuaEngine )
		clearCheckBox.Caption = this.Features.AddLuaEngine_CLEAR_Checkbox.Title
		clearCheckBox.Name = 'clearCheckBox'
		clearCheckBox.Constraints.MaxHeight = 25
		clearCheckBox.Parent = LuaEngine.btnExecute.Parent
		clearCheckBox.Anchors = '[akTop,akLeft]'
		clearCheckBox.AnchorSideTop.Control = LuaEngine.btnExecute.Parent
		clearCheckBox.AnchorSideTop.Side = asrTop
		clearCheckBox.AnchorSideLeft.Control = LuaEngine.btnExecute
		clearCheckBox.AnchorSideLeft.Side = asrLeft
	end
end

-- ! ########################################
-- ? ADD ENHANCEMENT TO AUTO ASSEMBLER EDITOR
-- ! ########################################
this.AutoInject_Enhancement = function()

	-- ? GET AUTO ASSEMBLER EDITOR
	local AutoInject = nil
	AutoInject = this.findForm( this.AutoInjectName )
	if not AutoInject then
		return
	end

	-- ? GET SAVE PATH
	local CE_Settings = getSettings( 'Auto Assembler' )

	-- ? GET CONTROLS
	local mnAssemblescreen = AutoInject.ComponentByName['Assemblescreen']

	-- ? ADD PICTURE TO EDITOR IMAGES LIST
	local Images = this.Pictures.Add( AutoInject )

	-- ? ADD ENHANCEMENT MENU TO ASSEMBLER EDITOR
	this.CreateMenu( AutoInject, {
		Images.OnIndex,
		Images.OffIndex,
		Images.SettingIndex
	} )

	-- ? ADD ENHANCEMENT TO NEW ASSEMBLER EDITOR
	local old_miNewWindow = AutoInject.miNewWindow.OnClick
	AutoInject.miNewWindow.OnClick = function( sender )
		this.runWaitFor( this.AutoInject_Enhancement, this.AutoInjectName )
		return old_miNewWindow( sender )
	end

	-- ? SET SAVED FONT SIZE WHEN ASSEMBLER EDITOR SHOW
	local old_OnShow = AutoInject.OnShow
	AutoInject.OnShow = function( sender )
		old_OnShow( sender )
		this.Font.Load( mnAssemblescreen, CE_Settings, 12 )
		this.AutoBackup.Backup( mnAssemblescreen, 'OnOpen' )
	end
	this.AutoBackup.Backup( mnAssemblescreen, 'OnOpen' )

	-- ? BACKUP WHEN ASSEMBLER EDITOR CLOSE
	local old_OnClose = AutoInject.OnClose
	AutoInject.OnClose = function( sender, option )
		this.AutoBackup.Backup( mnAssemblescreen, 'OnClose' )
		if old_OnClose then
			return old_OnClose( sender )
		else
			return option
		end
	end

	-- ? BACKUP WHEN ASSEMBLER EDITOR EXECUTE SCRIPT
	local old_btnExecute = AutoInject.ComponentByName['btnExecute'].OnClick
	AutoInject.ComponentByName['btnExecute'].OnClick = function( sender )
		this.AutoBackup.Backup( mnAssemblescreen, 'OnExecute' )
		if old_btnExecute then
			old_btnExecute( sender )
		end
	end

	-- ? ADD "AUTO CLOSE BRACKETS" AND "COMMENT / UNCOMMENT"
	this.EditorOnKeyPress( mnAssemblescreen )

	-- ? SCRIPT INCREASE/DECREASE FONT SIZE
	this.Font.addZoom( mnAssemblescreen, CE_Settings )

	-- ? SET SAVED FONT SIZE
	this.Font.Load( mnAssemblescreen, CE_Settings, 12 )

	-- ? MAKE INDENT USE TAB NOT SPACES
	this.TabIndent( mnAssemblescreen )

	-- ? KEEP SPACES AT END OF THE LINES
	this.KeepSpace( mnAssemblescreen )

	-- ? ADD EXTRA OPTIONS
	this.EditorOptions( mnAssemblescreen )

	-- ? ADD MEMORY POPUP MENU
	if this.getSettings( this.Features.AddMemoryPopup.Name ) then
		this.MemoryPopup( mnAssemblescreen, {
			Images.MemoryBrowseIndex,
			Images.MemoryDisassembleIndex
		} )
	end
end

-- ! ###############################################
-- ? ADD ENHANCEMENT TO MEMORY VIEWER TO OPEN EDITOR
-- ! ###############################################
this.MemoryView_Enhancement = function()
	-- ? FIND MEMORY VIEWER
	local MemoryView = nil
	if not getMemoryViewForm().Menu.Items.miEnhancement then
		MemoryView = getMemoryViewForm()
	else
		MemoryView = this.findForm( this.MemoryViewName )
		if not MemoryView then
			return
		end
	end

	-- ? ADD AUTOINJECT ENHANCEMENT AFTER CLICK ON AUTO ASSEMBLE MENU IN MEMORY VIEW
	local old_AutoInject1 = MemoryView.AutoInject1.OnClick
	MemoryView.AutoInject1.OnClick = function( sender )
		old_AutoInject1( sender )
		this.runWaitFor( this.AutoInject_Enhancement, this.AutoInjectName )
	end

	-- ? ADD AUTOINJECT ENHANCEMENT TO AUTO ASSEMBLE MENU IN NEW MEMORY VIEW
	local Old_Newwindow1 = MemoryView.Newwindow1.OnClick
	MemoryView.Newwindow1.OnClick = function( sender )
		Old_Newwindow1( sender )
		this.runWaitFor( this.MemoryView_Enhancement, this.MemoryViewName )
	end

	-- ? CREATE ENHANCEMENT MENU HIDDEN JUST FOR CHECK
	local miEnhancement = this.addMenuItem( MemoryView.Menu.Items, '&Enhancement', 'miEnhancement' )
	miEnhancement.Visible = false

end

-- ! ###########################################
-- ? ADD ENHANCEMENT TO MAIN FORM TO OPEN EDITOR
-- ! ###########################################
this.MainForm_Enhancement = function()

	-- ! GET MAINFORM FORM
	local MainForm = MainForm or getMainForm()
	-- ! GET ADDRESSLIST CONTROL
	local AddressList = AddressList or getAddressList()

	-- ? ADD AUTOINJECT ENHANCEMENT AFTER CLICK ON POPUP MENU CHANGE SCRIPT IN ADDRESSLIST
	local old_Changescript1 = MainForm.ComponentByName['Changescript1'].OnClick
	MainForm.ComponentByName['Changescript1'].OnClick = function( sender )
		if AddressList.SelectedRecord and AddressList.SelectedRecord.Type == vtAutoAssembler then
			this.runTimer( this.AutoInject_Enhancement, 800 )
		end
		if old_Changescript1 then
			old_Changescript1( sender )
		end
	end

	-- ? ADD AUTOINJECT ENHANCEMENT AFTER DOUBLE CLICK ON SCRIPT IN ADDRESSLIST
	local old_OnDblClick = AddressList.List.OnDblClick
	AddressList.List.OnDblClick = function( sender )
		if AddressList.SelectedRecord and AddressList.SelectedRecord.Type == vtAutoAssembler then
			this.runTimer( this.AutoInject_Enhancement, 800 )
		end
		if old_OnDblClick then
			old_OnDblClick( sender )
		end
	end

	-- ? ADD AUTOINJECT ENHANCEMENT AFTER PRESSING ENTER ON SCRIPT IN ADDRESSLIST
	local old_OnKeyDown = AddressList.List.OnKeyDown
	AddressList.List.OnKeyDown = function( sender, key )
		if AddressList.SelectedRecord and AddressList.SelectedRecord.Type == vtAutoAssembler and key == VK_RETURN and not isKeyPressed( VK_CONTROL ) then
			this.runTimer( this.AutoInject_Enhancement, 800 )
		end
		if old_OnKeyDown then
			old_OnKeyDown( sender, key )
		end
	end

	-- ! ################################################
	-- ? ADD LUA ENGINE BUTTON NEXT TO MEMORY VIEW BUTTON
	-- ! ################################################
	if this.getSettings( this.Features.AddLuaEngineButton.Name ) then
		local btnLuaEngine = createButton( MainForm.btnMemoryView.Parent )
		if not MainForm.btnLuaEngine then
			btnLuaEngine.Name = 'btnLuaEngine'
			btnLuaEngine.Parent = MainForm.btnMemoryView.Parent
			btnLuaEngine.AnchorSideLeft.Control = MainForm.btnMemoryView
			btnLuaEngine.AnchorSideLeft.Side = asrRight
			btnLuaEngine.AnchorSideTop.Control = MainForm.btnMemoryView
			btnLuaEngine.AnchorSideTop.Side = asrTop
			btnLuaEngine.BorderSpacing.Left = 5
			btnLuaEngine.caption = this.Features.AddLuaEngineButton.Title
			btnLuaEngine.Height = MainForm.btnMemoryView.Height
			btnLuaEngine.Width = MainForm.btnMemoryView.Width
			btnLuaEngine.OnClick = function()
				if getLuaEngine().GetVisible() then
					if getLuaEngine().WindowState == 'wsMinimized' then
						getLuaEngine().WindowState = 'wsNormal'
					end
					getLuaEngine().BringToFront()
				else
					getLuaEngine().show()
				end
			end
		end
	end

	-- ! ###################################
	-- ? ADD LUA ENGINE SHORTCUT CONTROL + L
	-- ! ###################################
	if this.getSettings( this.Features.AddLuaEngineShortcut.Name ) then
		local pmAddressList = AddressList.PopupMenu.Items
		local miLuaEngine = this.addMenuItem( pmAddressList, 'Lua Engine', 'miLuaEngine', function()
			if getLuaEngine().GetVisible() then
				if getLuaEngine().WindowState == 'wsMinimized' then
					getLuaEngine().WindowState = 'wsNormal'
				end
				getLuaEngine().BringToFront()
			else
				getLuaEngine().show()
			end
		end )
		miLuaEngine.ShortCut = textToShortCut( "Ctrl+L" )
		miLuaEngine.Visible = false
	end

end

-- ! ###################################################
-- ? LOAD THE EXTENSION ONLY IF THE MAIN FORM IS VISIBLE
-- ! ###################################################
this.AddExtension = {}
this.AddExtension.IsDone = false
this.AddExtension.TimeStart = os.clock()
this.AddExtension.Timer = createTimer( nil, false );
this.AddExtension.Timer.Interval = 100
this.AddExtension.Timer.OnTimer = function()
	local MainForm = MainForm or getMainForm()
	if MainForm.Visible and not this.AddExtension.IsDone then
		this.AddExtension.IsDone = true
		this.runTimer( function()
			this.MainForm_Enhancement()
			this.MemoryView_Enhancement()
			this.LuaEngine_Enhancement()
			this.AutoInject_Enhancement()
		end, 1 )
		this.AddExtension.Timer.Enabled = false
		this.AddExtension.Timer.destroy()
		this.AddExtension.Timer = nil
		return
	end
	if (os.clock() - this.AddExtension.TimeStart) > (2 * 60) then
		print( ExtensionName .. ' Timed Out' )
		this.AddExtension.Timer.Enabled = false
		this.AddExtension.Timer.destroy()
		this.AddExtension.Timer = nil
		return
	end
end
this.AddExtension.Timer.Enabled = true
